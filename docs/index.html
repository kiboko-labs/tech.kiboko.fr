<!DOCTYPE html>
<html lang="fr-fr">
  <head>
  <meta charset="utf-8">
  <title>Tech.Kiboko.fr</title>

  <meta name="generator" content="Hugo 0.74.3" />

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <!-- ** Plugins Needed for the Project ** -->
  <!-- Bootstrap -->
  <link rel="stylesheet" href="http://tech.kiboko.fr/plugins/bootstrap/bootstrap.min.css">

  <!-- themefy-icon -->
  <link rel="stylesheet" href="http://tech.kiboko.fr/plugins/themify-icons/themify-icons.css">

  <!-- highlight -->
  <link rel="stylesheet" href="http://tech.kiboko.fr/plugins/highlight/hybrid.css">

  <!--Favicon-->
  <link rel="icon" href="http://tech.kiboko.fr/images/favicon.png" type="image/x-icon">

  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css?family=Libre%20Franklin%2c%20Helvetica%20Neue%2c%20Helvetica%2c%20Arial%2c%20Sans-Serif:300,400,700&display=swap" rel="stylesheet">
  
  <style>
  :root{
    --primary-color: #222;
    --body-color:#ddd;
    --text-color:#000;
    --text-color-dark:#333;
    --white-color:#eee;
    --light-color:#ddd;
    --font-family:Libre Franklin, Helvetica Neue, Helvetica, Arial, Sans-Serif;
  }
  </style>

<!-- Main Stylesheet -->

<link href="http://tech.kiboko.fr/css/style.min.css" rel="stylesheet" media="screen"/>

<!-- jquiry -->
<script src="http://tech.kiboko.fr/plugins/jquery/jquery-1.12.4.js"></script>

<!-- jquary ui -->
<script src="http://tech.kiboko.fr/plugins/jquery/jquery-ui.js"></script>

<!-- Bootstrap JS -->
<script src="http://tech.kiboko.fr/plugins/bootstrap/bootstrap.min.js"></script>

<!-- match-height JS -->
<script src="http://tech.kiboko.fr/plugins/match-height/jquery.matchHeight-min.js"></script>

<!-- highlight -->
<script src="http://tech.kiboko.fr/plugins/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</head>
  
  <body>
    
    <!-- header -->
    <header class="banner bg-white" data-background="http://tech.kiboko.fr/">
      <nav class="navbar navbar-expand-md navbar-dark">
  <div class="container">
    <a class="navbar-brand px-2" href="/">
      
      
      
      
      <div class="navbar-brand">
        <img class="img-fluid" src="http://tech.kiboko.fr/images/logo.png "
          alt="Tech.Kiboko.fr">
      </div>
      
      
    </a>
    <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation"
      aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navigation">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link text-dark" href="/">Accueil</a>
        </li>
        
        
        <li class="nav-item">
          <a class="nav-link text-dark" href="/kibokast">Kibokast</a>
        </li>
        
        
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            docs
          </a>
          <div class="dropdown-menu">
            
            <a class="dropdown-item" href="/oro">Oro</a>
            
            <a class="dropdown-item" href="/docker">Docker</a>
            
            <a class="dropdown-item" href="/autre">Autre</a>
            
          </div>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-dark" href="http://kiboko.fr/fr/contactez-nous/">Contactez-nous</a>
        </li>
        
        
      </ul>
      
    </div>
  </div>
</nav>

      <!-- banner -->
<div class="container section">
  <div class="row">
    <div class="col-lg-8 text-center mx-auto">
      <h1 class="text-dark mb-3">Tech.Kiboko.fr</h1>
      <p class="text-dark mb-4">Parcourir la documentation technique pour découvrir et utiliser nos méthodes de travail</p>
      <div class="position-relative">
        <input id="search" class="form-control" placeholder="Rechercher une documentation">
        <i class="ti-search search-icon"></i>
        
        
        
        
        <script>
          $(function () {
          var projects = [
            
            {
              value: "Autoloading",
              label: "<p>La classe OroTestFrameworkExtension est responsable de la génération des suites de test.\nLors de l\u0026rsquo;initialisation, l\u0026rsquo;extension crée une suite de tests avec un nom de bundle si un répertoire Tests\/Behat\/Features existe dans un bundle. Ainsi, si le bundle n\u0026rsquo;a pas de répertoire Features - aucune suite de tests ne sera créée ce bundle.\nSi vous avez besoin de certaines étapes de fonctionnalité spécifiques pour votre bundle, créez la classe AcmeDemoBundle\\Tests\\Behat\\Context\\FeatureContext. Ce contexte est ajouté à la suite avec les contextes courants.La liste complète du contexte commun est configurée dans le fichier de configuration behat sous la clé shared_contexts.\nVous pouvez configurer manuellement la suite de tests pour un bundle dans la configuration de l\u0026rsquo;application behat:\ndefault: \u0026amp;default suites: AcmeDemoBundle: type: symfony_bundle bundle: AcmeDemoBundle contexts: - Oro\\Bundle\\TestFrameworkBundle\\Tests\\Behat\\Context\\OroMainContext - OroDataGridBundle::GridContext - AcmeDemoBundle::FeatureContext paths: - \u0026#39;vendor\/Acme\/DemoBundle\/Tests\/Behat\/Features\u0026#39; ou dans une configuration de bundle behat {BundleName}\/Tests\/Behat\/behat.yml :\noro_behat_extension: suites: AcmeDemoBundle: contexts: - Oro\\Bundle\\TestFrameworkBundle\\Tests\\Behat\\Context\\OroMainContext - OroDataGridBundle::GridContext - AcmeDemoBundle::FeatureContext paths: - \u0026#39;@AcmeDemoBundle\/Tests\/Behat\/Features\u0026#39; Les suites de test configurées manuellement ne sont pas chargées automatiquement par l\u0026rsquo;extension.\n</p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-autoloading\/"
            },
            
            {
              value: "Behat",
              label: "<p>Concepts Les informations ci-dessous résume les concepts et les outils qui sont importants pour la compréhension et l’utilisation du framework de test inclus dans OroBehatExtension.\nBehavior-driven development (BDD) est un processus de développement logiciel issu du développement axé sur les tests (TDD). Le BDD combine les techniques générales et les principes de TDD avec des idées de conception axée sur le domaine et l\u0026rsquo;analyse d\u0026rsquo;objet et du design pour fournir aux équipes de développement et de gestion de logiciels des outils partagés et un processus partagé de collaboration pour le développement de logiciels.\n  Behat est un framework de développement basé sur le comportement pour PHP. Cet outil permet de décrire le comportement de l\u0026rsquo;application voulue en utilisant Php et Gherking Vous pouvez utiliser Behat pour décrire tout ce que vous pouvez décrire dans la logique métier. Outils, applications GUI, applications Web, etc.\n  Mink est une extension de Behat qui vas permettre de controller un navigateur durant les tests en utilisant PHP. Il vas utiliser des emulateurs de navigateurs , l\u0026rsquo;avantage d\u0026rsquo;utiliser Mink c\u0026rsquo;est qu\u0026rsquo;il supprime les différences entres les différents emulateurs de navigateur et leurs drivers.\n  WebDriver est un protocole qui permet de controller des navigateurs en JSON.\n  Les drivers Mink ce sont des extensions de mink qui permettent de controller des \u0026lsquo;controlleurs\/émulateurs\u0026rsquo; de navigateurs tel que le trés connue Selenium2. Dans oro, on utilise Selenium2Driver qui vas faire la passerelle entre Mink et SeleniumWebDriver.\n  ChromeDriver est un driver comme Selenium2Driver mais ne fonctionne que pour chrome et a la particularité de fonctionner sans Selenium ce qui rend les tests plus rapides sur chrome.\n  Selenium est un framework de test informatique développé en Java qui est composé de 3 grandes briques :\n Selenium WebDriver : Framework de test fonctionnel permettant l’écriture de scripts de test automatisés en differents language.Il met a disposition une API pour controller tout les navigateurs. Selenium IDE : qui permet de créer des script , sous forme d\u0026rsquo;extension chrome our firefox, pour controller des navigateurs. Selenium Grid : Qui se compose d\u0026rsquo;un hub et de nodes, permet de lancer des test sur plusieurs navigateurs en même temps.    Symfony2Extension qui ajoute une intégration pour Symfony avec Behat.\n  OroTestFrameworkExtension est une extension de behat pour intégrer Oro, il ajoute des features tel que :\n l\u0026rsquo;autoloading des contextes, permet de construire des suites de tests spécifiques. la possibilité de déclarer des \u0026lsquo;Elements\u0026rsquo; facilement dans le fichier de config behat.yml Mapper facilement des champs de formulaires    OroElementFactory est une classe qui permet de manipuler des éléments sur la page:\n hasElement($name) createElement($name, NodeElement $context = null) guessElement($name) findElementContains($name, $text, Element $context = null) findElementContainsByCss($name, $text, Element $context = null) findElementContainsByXPath($name, $text, $useChildren = true, Element $context = null) findAllElements($name, NodeElement $context = null) getPage() findElement($name, $selectorCallback, Element $context = null) et d\u0026rsquo;autre fonctions \u0026hellip;.    Le contexte : Chaque phrase en Gherkin est associée à une méthode PHP grâce aux classes de contexte.La phrase est située dans une annotation au-dessus de la fonction à appeler. L’annotation peut contenir une expression rationnelle ou une phrase avec des placeholders commençant par deux points. Chaque parenthèse de capture de l’expression rationnelle ou placeholder sera un argument de la méthode PHP appelée pour exécuter la phrase du test.\n  Architecture Documentations  Conventions Configuration Architecture Autoloading Isolation Elements et formulaire Fixtures Exemples d\u0026rsquo;un test behat Tips,tricks,bugfix  Docs relatives (externes)  Behat Gherkin Mink WebDriver MinkSelenium2Driver ChromeDriver Selenium Symfony2Extension  </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/"
            },
            
            {
              value: "Configuration",
              label: "<p>Configuration de l\u0026rsquo;application :\nUtilisez la configuration par défaut de l\u0026rsquo;application installée en mode production. Si aucun serveur de messagerie n\u0026rsquo;est configuré localement, définissez le paramètre mailer_transport dans parameters.yml sur null.\nConfiguration Behat\nLa configuration de base se trouve dans behat.yml.dist. Chaque application possède son propre fichier behat.yml.dist à la racine du répertoire de l\u0026rsquo;application. Créez votre behat.yml (il est ignoré par git automatiquement et n\u0026rsquo;est jamais validé dans le référentiel distant), importez la configuration de base et modifiez-la pour l\u0026rsquo;adapter à votre environnement:\nconfiguration en local, sans docker yaml imports: - .\/behat.yml.dist default: \u0026amp;default extensions: \u0026amp;default_extensions Behat\\MinkExtension: browser_name: chrome base_url: \u0026quot;http:\/\/localhost:8010\u0026quot; configuration avec la stack docker kiboko imports: - .\/behat.yml.dist default: \u0026amp;default extensions: \u0026amp;default_extensions Behat\\MinkExtension: browser_name: chrome base_url: \u0027http:\/\/http\u0027 default_session: \u0027first_session\u0027 sessions: second_session: oroSelenium2: wd_host: \u0027http:\/\/localhost:4444\/wd\/hub\u0027 capabilities: browser: chrome extra_capabilities: browser: chrome chromeOptions: w3c: false first_session: oroSelenium2: wd_host: \u0027http:\/\/localhost:4444\/wd\/hub\u0027 capabilities: browser: chrome extra_capabilities: browser: chrome chromeOptions: w3c: false system_session: oroSelenium2: wd_host: \u0027http:\/\/localhost:4444\/wd\/hub\u0027 capabilities: browser: chrome extra_capabilities: browser: chrome chromeOptions: w3c: false 320_session: oroSelenium2: wd_host: \u0027http:\/\/localhost:4444\/wd\/hub\u0027 capabilities: extra_capabilities: chromeOptions: w3c: false 640_session: oroSelenium2: wd_host: \u0027http:\/\/localhost:4444\/wd\/hub\u0027 capabilities: extra_capabilities: chromeOptions: w3c: false !!! =\u0026gt; Configurer votre parameters.yml avec le search engine en orm et dbal pour les messages\nInstallation Installation des dépendances de développement : Si vous avez installé des dépendances avec le paramètre \u0026ndash;no-dev plus tôt, supprimez le fichier composer.lock de la racine du répertoire de l\u0026rsquo;application.\nInstallez les dépendances dev à l\u0026rsquo;aide de la commande suivante\ncomposer install\nEtat de l\u0026rsquo;application initiale Dans Oro, l\u0026rsquo;état initial est celui lorsque l\u0026rsquo;application est installé sans données de démonstration. Les scénarios qui testent des fonctionnalités doivent s\u0026rsquo;appuyer sur cet état et doivent créer toutes les données nécessaires à des vérifications supplémentaires. Les données peuvent être créées par les étapes du scénario ou comme montages.\nInstallez l\u0026rsquo;application en anglais, sans données de démonstration en mode production, sans rabbit et elastic à l\u0026rsquo;aide de la commande suivante:\n bin\/console oro:install --drop-database --user-name=admin --user-email=admin@example.com \\ --application-url=http:\/\/localhost:8010 --user-firstname=John --user-lastname=Doe \\ --user-password=admin --organization-name=ORO --env=prod --sample-data=n --timeout=3000 \\ --formatting-code=en --language=en Installation des outils de test en local, sans la stack docker : Pour exécuter des scénarios qui utilisent les fonctionnalités de l\u0026rsquo;application Oro, exécutez le navigateur WebKit (à l\u0026rsquo;aide de ChromeDriver). Pour installer ChromeDriver, exécutez les commandes suivantes:\nLINUX :\n CHROME_DRIVER_VERSION=$(curl -sS chromedriver.storage.googleapis.com\/LATEST_RELEASE) mkdir -p \u0026quot;$HOME\/chrome\u0026quot; || true wget \u0026quot;http:\/\/chromedriver.storage.googleapis.com\/${CHROME_DRIVER_VERSION}\/chromedriver_linux64.zip\u0026quot; -O \u0026quot;$HOME\/chrome\/chromedriver_linux64_${CHROME_DRIVER_VERSION}.zip\u0026quot; unzip \u0026quot;$HOME\/chrome\/chromedriver_linux64_${CHROME_DRIVER_VERSION}.zip\u0026quot; -d \u0026quot;$HOME\/chrome\u0026quot; sudo ln -s \u0026quot;$HOME\/chrome\/chromedriver\u0026quot; \/usr\/local\/bin\/chromedriver MAC :\nbrew cask install chromedriver\nInstallation des outils de test avec la stack docker : version: \u00272.2\u0027 services: mailcatcher: image: schickling\/mailcatcher:latest ports: - ${MAILCATCHER_PORT}:1080 sql: image: postgres:9.6-alpine ports: - ${SQL_PORT}:5432 environment: - POSTGRES_USER - POSTGRES_DB - POSTGRES_PASSWORD - POSTGRES_ROOT_PASSWORD volumes: - .\/.docker\/postgres@9.6\/sql\/uuid-ossp.sql:\/docker-entrypoint-initdb.d\/00-uuid-ossp.sql:ro - .\/.docker\/postgres@9.6\/custom-sql\/:\/docker-entrypoint-initdb.d\/custom-sql\/ - database:\/var\/lib\/postgresql\/data restart: on-failure http: image: nginx:alpine volumes: - .\/.docker\/nginx@1.15\/config\/options.conf:\/etc\/nginx\/conf.d\/000-options.conf - .\/.docker\/nginx@1.15\/config\/reverse-proxy.conf:\/etc\/nginx\/conf.d\/default.conf - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache:ro - assets:\/var\/www\/html\/public\/bundles:ro restart: on-failure ports: - ${HTTP_PORT}:80 depends_on: - http-worker-prod - http-worker-dev - http-worker-xdebug http-worker-prod: image: nginx:alpine volumes: - .\/.docker\/nginx@1.15\/config\/options.conf:\/etc\/nginx\/conf.d\/000-options.conf - .\/.docker\/nginx@1.15\/config\/vhost-prod.conf:\/etc\/nginx\/conf.d\/default.conf - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache:delegated - assets:\/var\/www\/html\/public\/bundles:delegated restart: on-failure depends_on: - fpm http-worker-dev: image: nginx:alpine volumes: - .\/.docker\/nginx@1.15\/config\/options.conf:\/etc\/nginx\/conf.d\/000-options.conf - .\/.docker\/nginx@1.15\/config\/vhost-dev.conf:\/etc\/nginx\/conf.d\/default.conf - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache:ro - assets:\/var\/www\/html\/public\/bundles:ro restart: on-failure depends_on: - fpm http-worker-xdebug: image: nginx:alpine volumes: - .\/.docker\/nginx@1.15\/config\/options.conf:\/etc\/nginx\/conf.d\/000-options.conf - .\/.docker\/nginx@1.15\/config\/vhost-xdebug.conf:\/etc\/nginx\/conf.d\/default.conf - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache:ro - assets:\/var\/www\/html\/public\/bundles:ro restart: on-failure depends_on: - fpm-xdebug fpm: image: kiboko\/php:7.2-fpm-blackfire-orocommerce-ee-3.1-postgresql user: docker:docker volumes: - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache - assets:\/var\/www\/html\/public\/bundles environment: - \u0026quot;I_AM_DEVELOPER_DISABLE_INDEX_IP_CHECK=\u0026quot; - BLACKFIRE_CLIENT_ID - BLACKFIRE_CLIENT_TOKEN restart: on-failure fpm-xdebug: image: kiboko\/php:7.2-fpm-xdebug-orocommerce-ee-3.1-postgresql user: docker:docker volumes: - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache - assets:\/var\/www\/html\/public\/bundles environment: - \u0026quot;I_AM_DEVELOPER_DISABLE_INDEX_IP_CHECK=\u0026quot; restart: on-failure blackfire: image: blackfire\/blackfire environment: - BLACKFIRE_SERVER_ID - BLACKFIRE_SERVER_TOKEN sh: build: context: .docker\/sh@7.2\/ user: docker:docker volumes: - $HOME\/.ssh:\/opt\/docker\/.ssh:cached - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache - assets:\/var\/www\/html\/public\/bundles - composer:\/opt\/docker\/.composer\/:cached environment: - COMPOSER_AUTH - COMPOSER_PROCESS_TIMEOUT - BLACKFIRE_CLIENT_ID - BLACKFIRE_CLIENT_TOKEN - HOME=\/var\/www\/html command: [ \u0026quot;sleep\u0026quot;, \u0026quot;31536000\u0026quot; ] restart: \u0026quot;always\u0026quot; sh-xdebug: image: kiboko\/php:7.2-cli-xdebug-orocommerce-ee-3.1-postgresql user: docker:docker volumes: - $HOME\/.ssh:\/opt\/docker\/.ssh:cached - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache - assets:\/var\/www\/html\/public\/bundles - composer:\/opt\/docker\/.composer\/ environment: - COMPOSER_AUTH - COMPOSER_PROCESS_TIMEOUT command: [ \u0026quot;sleep\u0026quot;, \u0026quot;31536000\u0026quot; ] restart: \u0026quot;always\u0026quot; mq: image: kiboko\/php:7.2-cli-blackfire-orocommerce-ee-3.1-postgresql user: docker:docker volumes: - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache - assets:\/var\/www\/html\/public\/bundles command: [ \u0026quot;bin\/console\u0026quot;, \u0026quot;oro:message-queue:consume\u0026quot;, \u0026quot;--env=prod\u0026quot;, \u0026quot;-vv\u0026quot; ] restart: \u0026quot;always\u0026quot; ws: image: kiboko\/php:7.2-cli-blackfire-orocommerce-ee-3.1-postgresql user: docker:docker volumes: - .\/:\/var\/www\/html - cache:\/var\/www\/html\/var\/cache - assets:\/var\/www\/html\/public\/bundles command: [ \u0026quot;bin\/console\u0026quot;, \u0026quot;gos:websocket:server\u0026quot;, \u0026quot;--env=prod\u0026quot;, \u0026quot;-vv\u0026quot; ] ports: - ${WEBSOCKET_PORT}:8080 restart: \u0026quot;always\u0026quot; elasticsearch: image: \u0027docker.elastic.co\/elasticsearch\/elasticsearch-oss:6.5.4\u0027 environment: - cluster.name=docker-cluster - bootstrap.memory_lock=true - \u0026quot;ES_JAVA_OPTS=-Xms512m -Xmx512m\u0026quot; - discovery.type=single-node - http.port=9200 - http.cors.allow-origin=http:\/\/localhost:${DEJAVU_PORT},http:\/\/127.0.0.1:${DEJAVU_PORT},http:\/\/192.168.64.4:${DEJAVU_PORT},http:\/\/dejavu:${DEJAVU_PORT},http:\/\/host.docker.internal:${DEJAVU_PORT} - http.cors.enabled=true - http.cors.allow-headers=X-Requested-With,X-Auth-Token,Content-Type,Content-Length,Authorization - http.cors.allow-credentials=true ports: - ${ELASTICSEARCH_PORT}:9200 volumes: - elasticsearch:\/usr\/share\/elasticsearch\/data - .\/.docker\/elasticsearch\/elasticsearch.yml:\/usr\/share\/elasticsearch\/config\/elasticsearch.yml restart: on-failure dejavu: image: appbaseio\/dejavu ports: - ${DEJAVU_PORT}:1358 amqp: build: context: .docker\/rabbitmq@3.6 ports: - ${RABBITMQ_AMQP_PORT}:5672 - ${RABBITMQ_MANAGER_PORT}:15672 environment: - RABBITMQ_DEFAULT_USER=${RABBITMQ_USER} - RABBITMQ_DEFAULT_PASS=${RABBITMQ_PASSWORD} restart: on-failure redis: build: context: .docker\/redis@5\/ restart: on-failure ports: - ${REDIS_PORT}:6379 chrome: image: selenium\/node-chrome:3.141.59-oxygen volumes: - \/dev\/shm:\/dev\/shm depends_on: - hub environment: HUB_HOST: hub firefox: image: selenium\/node-firefox:3.141.59-20200525 volumes: - \/dev\/shm:\/dev\/shm depends_on: - hub environment: HUB_HOST: hub opera: image: selenium\/node-opera:3.141.59-20200525 volumes: - \/dev\/shm:\/dev\/shm depends_on: - hub environment: HUB_HOST: hub hub: image: selenium\/hub:3.141.59-20200525 ports: - ${HUB_PORT}::4444 volumes: database: driver: local elasticsearch: driver: local composer: driver: local driver_opts: type: tmpfs device: tmpfs o: \u0026quot;size=2048m,uid=1001,gid=1002\u0026quot; assets: driver: local driver_opts: type: tmpfs device: tmpfs o: \u0026quot;size=2048m,uid=1001,gid=1002\u0026quot; cache: driver: local driver_opts: type: tmpfs device: tmpfs o: \u0026quot;size=2048m,uid=1001,gid=1002\u0026quot; Lancement des outils de tests en local, sans docker Conditions préalables\n Exécutez ChromeDriver:  chromedriver --url-base=wd\/hub --port=4444 \u0026gt; \/tmp\/driver.log 2\u0026gt;\u0026amp;1\nPour exécuter ChromeDriver en arrière-plan, ajoutez le symbole esperluette (\u0026amp;) à la fin de la ligne, comme dans les exemples suivants:\nchromedriver --url-base=wd\/hub --port=4444 \u0026gt; \/tmp\/driver.log 2\u0026gt;\u0026amp;1 \u0026amp;\n Lancer un serveur sur le port spécifié pour l\u0026rsquo;installation (ici 8010 ), avec apache, nginx, ou juste le serveur symfony de base  Execution des tests Avant de commencer, il est fortement recommandé de vous familiariser avec les arguments et les options de Behat. Exécutez bin\/behat --help pour une description détaillée.\nLorsque l\u0026rsquo;application Oro est installée sans données de démonstration et est en cours d\u0026rsquo;exécution, et que ChromeDriver est en cours d\u0026rsquo;exécution, vous pouvez commencer à exécuter les tests behat par fonctionnalité à partir de la racine de l\u0026rsquo;application.\nVous pouvez utiliser l\u0026rsquo;une des commandes suivantes.\nExécutez le scénario de test des fonctionnalités:\nbin\/behat vendor\/oro\/platform\/src\/Oro\/Bundle\/UserBundle\/Tests\/Behat\/Features\/login.feature -vvv\nAperçu de toutes les étapes de fonctionnalité disponibles:\nbin\/behat -dl -s OroUserBundle\nVoir les étapes avec une description complète et des exemples:\nbin\/behat -di -s OroUserBundle\nChaque bundle a sa suite de tests dédiée qui peut être exécutée séparément:\nbin\/behat -s OroUserBundle\n</p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-configuration\/"
            },
            
            {
              value: "Conventions",
              label: "<p>Conventions Utilisez le mapping de formulaire au lieu de sélecteurs dans vos scénarios pour les garder clairs et compréhensibles pour les personnes du monde technique et non technique.\nExample Ne pas:\nI fill in \u0026quot;oro_workflow_definition_form[label]\u0026quot; with \u0026quot;User Workflow Test\u0026quot; I fill in \u0026quot;oro_workflow_definition_form[related_entity]\u0026quot; with \u0026quot;User\u0026quot; Mais plutot :\n And I fill \u0026quot;Workflow Edit Form\u0026quot; with: | Name | User Workflow Test | | Related Entity | User | avec la description des éléments indépendament :\n Workflow Edit Form: selector: \u0027form[name=\u0026quot;oro_workflow_definition_form\u0026quot;]\u0027 class: Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Form options: mapping: Name: \u0027oro_workflow_definition_form[label]\u0027 Related Entity: \u0027oro_workflow_definition_form[related_entity]\u0027 Utilisez des menu et des liens pour obtenir les bonnes pages au lieu de l\u0026rsquo;URL de la page directe\nFaire :\nAnd I open User Index page Et non pas :\nAnd I go to \u0026quot;\/users\u0026quot; Évitez la redondance des scénarios (par exemple, en répétant la même séquence d\u0026rsquo;étapes, comme la connexion, dans plusieurs scénarios).\nCouvrez la fonctionnalité avec les scénarios séquentiels où chaque scénario suivant réutilise les résultats (les états et les données) préparés par leurs prédécesseurs. Cette méthode a été choisie en raison des avantages suivants:\n Exécution de scénario plus rapide grâce à la session utilisateur partagée et à la préparation intelligente des données. L\u0026rsquo;action de connexion dans le scénario initial ouvre la session qui est réutilisable par les scénarios suivants. Les scénarios préliminaires (par exemple, créer) préparent des données pour les scénarios suivants (par exemple, supprimer). L\u0026rsquo;isolation au niveau des fonctionnalités augmente la vitesse d\u0026rsquo;exécution, en particulier dans les environnements de test lents. Actions de développement de routine minimisées (par exemple, vous n\u0026rsquo;avez pas à charger les fixtures pour chaque scénario; au lieu de cela, vous réutilisez les résultats disponibles des scénarios précédents). Gestion aisée des états d\u0026rsquo;application difficiles à émuler uniquement avec des fixtures (par exemple, lors de l\u0026rsquo;ajout de nouveaux champs d\u0026rsquo;entité dans l\u0026rsquo;interface utilisateur).  En couplant les scénarios, la facilité de débogage et de localisation des bogues est réduite. Il est difficile de déboguer les fonctionnalités de l\u0026rsquo;interface utilisateur et les scénarios qui se produisent après plusieurs scénarios préliminaires. Plus la ligne est longue, plus il est difficile d\u0026rsquo;isoler le problème.\n Utiliser des fixtures yml sémantiques  Utilisez uniquement les entités qui se trouvent dans le bundle que vous testez. Toutes les autres entités doivent être incluses via une importation. Voir les Fixtures Alice pour plus d\u0026rsquo;informations.\n Nommer les éléments dans le style camelCase sans espaces  Vous pouvez toujours vous y référer en utilisant le style camelCase avec des espaces dans les scénarios behat. Par exemple, un élément nommé OroProductForm peut être mentionné dans l\u0026rsquo;étape du scénario comme «Oro Product From»:\n Use Scenario: Feature Background instead of the Background step  </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-conventions\/"
            },
            
            {
              value: "Elements form",
              label: "<p>Elements est une couche de service dans les tests behat. Ils enveloppent la logique métier complexe. Prenez une minute pour lire la base des NodeElement Mink\nIl y a de nombreuses méthodes publiques; certains d\u0026rsquo;entre eux ne s\u0026rsquo;appliquent qu\u0026rsquo;à certains éléments. Chaque test Bundle peut contenir un nombre particulier d\u0026rsquo;éléments. Tous les éléments doivent être décrits dans {BundleName} {BundleName}\/Tests\/Behat\/behat.yml de la manière suivante:\noro_behat_extension: elements: Login: selector: \u0026#39;#login-form\u0026#39; class: Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Form options: mapping: Username: \u0026#39;_username\u0026#39; Password: \u0026#39;_password\u0026#39; ou :\n Login est un nom d\u0026rsquo;élément qui DOIT être unique. L\u0026rsquo;élément peut être créé dans un contexte par OroElementFactory par son nom:  $this-\u0026gt;elementFactory-\u0026gt;createElement(\u0026#39;Login\u0026#39;); selector` définit comment le driver Web doit trouver l\u0026rsquo;élément sur la page. Par défaut, lorsque le type de sélecteur n\u0026rsquo;est pas spécifié, le sélecteur css est utilisé. Le sélecteur XPath est également pris en charge et peut être fourni avec la configuration suivante:  selector: type: xpath locator: \/\/span[id=\u0026#39;mySpan\u0026#39;]\/ancestor::form\/  Le namespace de l\u0026rsquo;élément (doit être étendu à partir de Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Element). Lorsqu\u0027elle est omise, la classe Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Element` est utilisée par défaut.\n  options est un tableau d\u0026rsquo;options supplémentaires stockées dans la propriété options de la classe Element. Il est fortement recommandé de fournir une classe avec des options de mappage pour les éléments de formulaire, car cela augmente la vitesse de test et garantit un mappage de champ plus précis.\n  Mappage des champs de formulaire Par défaut, les tests utilisent le sélecteur de champ nommé pour mapper les champs du formulaire. Le sélecteur de nom de champ a recherché le champ par son identifiant, son nom, son label ou son placeholder. Vous êtes libre d\u0026rsquo;utiliser n\u0026rsquo;importe quel sélecteur pour mapper des champs de formulaire ou encapsuler un élément dans l\u0026rsquo;élément behat particulier.\noro_behat_extension: elements: Payment Method Config Type Field: class: Oro\\Bundle\\PaymentBundle\\Tests\\Behat\\Element\\PaymentMethodConfigType PaymentRuleForm: selector: \u0026#34;form[id^=\u0026#39;oro_payment_methods_configs_rule\u0026#39;]\u0026#34; class: Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Form options: mapping: Method: type: \u0026#39;xpath\u0026#39; locator: \u0026#39;\/\/div[@id[starts-with(.,\u0026#34;uniform-oro_payment_methods_configs_rule_method\u0026#34;)]]\u0026#39; element: Payment Method Config Type Field Vous devez maintenant implémenter la méthode setValue de l\u0026rsquo;élément:\n\u0026lt;?php namespace Oro\\Bundle\\PaymentBundle\\Tests\\Behat\\Element; use Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Element; class PaymentMethodConfigType extends Element { \/** * {@inheritdoc} *\/ public function setValue($value) { $values = is_array($value) ? $value : [$value]; foreach ($values as $item) { $parentField = $this-\u0026gt;getParent()-\u0026gt;getParent()-\u0026gt;getParent()-\u0026gt;getParent(); $field = $parentField-\u0026gt;find(\u0026#39;css\u0026#39;, \u0026#39;select\u0026#39;); self::assertNotNull($field, \u0026#39;Select payment method field not found\u0026#39;); $field-\u0026gt;setValue($item); $parentField-\u0026gt;clickLink(\u0026#39;Add\u0026#39;); $this-\u0026gt;getDriver()-\u0026gt;waitForAjax(); } } } Vous pouvez maintenant l\u0026rsquo;utiliser dans une étape standard:\nFeature: Payment Rules CRUD Scenario: Creating Payment Rule Given I login as administrator And I go to System\/ Payment Rules And I click \u0026#34;Create Payment Rule\u0026#34; When I fill \u0026#34;Payment Rule Form\u0026#34; with: | Method | PayPal | Mappages de formulaires intégrés : Parfois, un formulaire apparaît dans l\u0026rsquo;iframe. Behat peut passer à l\u0026rsquo;iframe par son identifiant. Pour remplir correctement le formulaire dans l\u0026rsquo;iframe, spécifiez l\u0026rsquo;id iframe dans les options du formulaire:\noro_behat_extension: elements: MagentoContactUsForm: selector: \u0026#39;div#page\u0026#39; class: Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Form options: embedded-id: embedded-form mapping: First name: \u0026#39;oro_magento_contactus_contact_request[firstName]\u0026#39; Last name: \u0026#39;oro_magento_contactus_contact_request[lastName]\u0026#39; ELement de page L\u0026rsquo;élément Page encapsule la page Web entière avec son URL et son chemin d\u0026rsquo;accès à la page. Chaque élément Page doit étendre Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Page.\nExemple de Configuration de Page :\noro_behat_extension: pages: UserProfileView: class: Oro\\Bundle\\UserBundle\\Tests\\Behat\\Page\\UserProfileView route: \u0026#39;oro_user_profile_view\u0026#39; Exemple de classe de page:\nnamespace Oro\\Bundle\\UserBundle\\Tests\\Behat\\Page; use Oro\\Bundle\\TestFrameworkBundle\\Behat\\Element\\Page; class UserProfileView extends Page { \/** * {@inheritdoc} *\/ public function open(array $parameters = []) { $userMenu = $this-\u0026gt;elementFactory-\u0026gt;createElement(\u0026#39;UserMenu\u0026#39;); $userMenu-\u0026gt;find(\u0026#39;css\u0026#39;, \u0026#39;[data-toggle=\u0026#34;dropdown\u0026#34;]\u0026#39;)-\u0026gt;click(); $userMenu-\u0026gt;clickLink(\u0026#39;My User\u0026#39;); } } Vous pouvez maintenant utiliser plusieurs étapes significatives:\nAnd I open User Profile View page And I should be on User Profile View page </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-elements-form\/"
            },
            
            {
              value: "exemples",
              label: "<p>Ecrire une feature Chaque bundle doit contenir ses propres tests behat pour les fonctionnalités du répertoire {BundleName}\/Tests\/Behat\/Features\/. Chaque fonctionnalité est un fichier distinct avec l\u0026rsquo;extension .feature et une syntaxe spécifique.\nNote : Voir la doc de Cucumber pour plus d\u0026rsquo;infos.\nUne fonctionnalité commence par ce qui suit:\n Le mot clé Feature: et le nom de la fonctionnalité (ceux-ci doivent rester sur la même ligne), Une description facultative (peut être formatée sur plusieurs lignes). Une description significative est fortement recommandée.  Vient ensuite le scénario de fonctionnalité - un exemple spécifique qui illustre une règle métier et se compose d\u0026rsquo;étapes séquentielles. En plus d\u0026rsquo;être une spécification de test et une documentation de test, un scénario définit les étapes de test et sert de spécification exécutable du système.\nNormalement, une étape commence par Given, When ou Then.\nS\u0026rsquo;il existe plusieurs étapes Given ou When les unes sous les autres, vous pouvez utiliser And ou But pour les organiser en groupes logiques. Cucumber ne fait pas de différence entre les mots clés, mais le choix du bon est important pour la lisibilité du scénario dans son ensemble.\nJetez un œil à la feature login login.feature dans OroUserBundle\nFeature: User login In order to login in application As an OroCRM admin I need to be able to authenticate Scenario: Success login Given I am on \u0026quot;\/user\/login\u0026quot; When I fill \u0026quot;Login Form\u0026quot; with: | Username | admin | | Password | admin | And I press \u0026quot;Log in\u0026quot; Then I should be on \u0026quot;\/\u0026quot; Scenario Outline: Fail login Given I am on \u0026quot;\/user\/login\u0026quot; When I fill \u0026quot;Login Form\u0026quot; with: | Username | \u0026lt;login\u0026gt; | | Password | \u0026lt;password\u0026gt; | And I press \u0026quot;Log in\u0026quot; Then I should be on \u0026quot;\/user\/login\u0026quot; And I should see \u0026quot;Invalid user name or password.\u0026quot; Examples: | login | password | | user | pass | | user2 | pass2 |  La ligne Feature: User login démarre la fonctionnalité et lui donne un titre. Behat n\u0026rsquo;analyse pas les trois lignes de texte suivantes: In order to\u0026hellip; As an\u0026hellip; I need to\u0026hellip; Ces lignes fournissent un contexte lisible par l\u0026rsquo;homme aux personnes qui réviseront ou modifieront cette fonctionnalité. Ils décrivent la valeur commerciale dérivée de l\u0026rsquo;inclusion de la fonctionnalité dans le logiciel. La ligne Scenario: Success login démarre le scénario et fournit une description. Les six lignes suivantes représentent les étapes du scénario. Chaque étape correspond à une expression régulière définie dans le contexte. La ligne Scenario Outline: Fail login démarre le scénario suivant. Dans le plan du scénario, les placeholders sont utilisés à la place des valeurs réelles et les valeurs pour l\u0026rsquo;exécution du scénario sont fournies sous la forme d\u0026rsquo;un ensemble d\u0026rsquo;exemples sous le plan. Le scénario vous aide à exécuter ces étapes plusieurs fois, en parcourant les valeurs fournies dans la section Exemples: et en testant ainsi le même flux avec des entrées différentes. Le plan du scénario est un modèle qui n\u0026rsquo;est jamais exécuté seul. Au lieu de cela, un scénario qui suit un plan s\u0026rsquo;exécute une fois pour chaque ligne dans la section Exemples: en dessous (à l\u0026rsquo;exception de la première ligne d\u0026rsquo;en-tête qui est ignorée). Considérez un espace réservé comme une variable. Il est remplacé par une valeur réelle depuis Exemples:, où le texte entre les crochets d\u0026rsquo;angle de l\u0026rsquo;espace réservé (par exemple, ) correspond au texte de l\u0026rsquo;en-tête de la colonne du tableau (par exemple, login).  </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-exemples\/"
            },
            
            {
              value: "Fixtures",
              label: "<p>Feature Fixtures : Chaque fois que behat exécute une nouvelle fonctionnalité, l\u0026rsquo;état de l\u0026rsquo;application est réinitialisé par défaut : il n\u0026rsquo;y a qu\u0026rsquo;un seul utilisateur administrateur, une organisation, une unité commerciale et des rôles par défaut dans la base de données.\nLes tests de fonctionnalités doivent s\u0026rsquo;appuyer sur les données disponibles dans l\u0026rsquo;application après l\u0026rsquo;exécution de la commande oro: install. Dans la plupart des cas, cela ne suffit pas.\nAinsi, vous avez deux façons d\u0026rsquo;obtenir plus de données dans le système: en utilisant des fixtures de base ou des fixtures alice.\nFixtures basiques Vous pouvez créer un nombre quelconque d\u0026rsquo;entités dans les tests de fonctionnalités. FixtureContext devine la classe d\u0026rsquo;entité, crée le nombre nécessaire d\u0026rsquo;objets et utilise faker pour remplir les champs requis lorsque leur valeur n\u0026rsquo;a pas été spécifiée explicitement.\nVous utilisez à la fois les références faker et les références d\u0026rsquo;entité dans les appareils en ligne.\n Given the following contacts: | First Name | Last Name | Email | | Joan | Anderson | \u0026lt;email()\u0026gt; | | Craig | Bishop | \u0026lt;email()\u0026gt; | | Jean | Castillo | \u0026lt;email()\u0026gt; | | Willie | Chavez | \u0026lt;email()\u0026gt; | | Arthur | Fisher | \u0026lt;email()\u0026gt; | | Wanda | Ford | \u0026lt;email()\u0026gt; | And I have 5 Cases And there are 5 calls And there are two users with their own 7 Accounts And there are 3 users with their own 3 Tasks And there is user with its own Account Fixtures Alice Parfois, vous avez besoin de nombreuses entités différentes avec des relations complexes. Dans de tels cas, vous pouvez utiliser des fixtures Alice. Alice est une bibliothèque qui vous permet de créer facilement des fixtures au format yml.\nNOTE : Voir la documentation d\u0026rsquo;Alice pour plus d\u0026rsquo;informations.\nLes fixtures doivent être situés dans le répertoire {BundleName}\/Tests\/Behat\/Features\/Fixtures. Pour charger une fixture avant l\u0026rsquo;exécution des tests de fonctionnalité, ajoutez une balise (annotation) qui est construite à l\u0026rsquo;aide de la convention suivante @fixture-BundleName:fixture_file_name.yml, par exemple:\n@fixture-OroCRMBundle:mass_action.yml Feature: Mass Delete records Il est également possible de charger des fixtures pour tout autre bundle disponible pour l\u0026rsquo;application.\nPar exemple:\n@fixture-OroUserBundle:user.yml @fixture-OroOrganizationBundle:BusinessUnit.yml Feature: Adding attributes for workflow transition De plus, Alice vous permet d\u0026rsquo;inclure des fichiers via l\u0026rsquo;extension, vous pouvez donc importer des fichiers à partir d\u0026rsquo;autres bundles:\ninclude: - \u0026#39;@OroCustomerBundle\/Tests\/Behat\/Features\/Fixtures\/CustomerUserAmandaRCole.yml\u0026#39; Vous devez toujours inclure les fixtures d\u0026rsquo;autres bundles avec des entités qui ont été déclarées dans ce bundle\nRéférences d\u0026rsquo;entités Vous pouvez utiliser des références aux entités dans les fixtures de base et alice.\n{Bundle}\\Tests\\Behat\\ReferenceRepositoryInitializer est utilisé pour créer des références pour des objets qui existent déjà dans la base de données.\n Il est interdit de modifier ou d\u0026rsquo;ajouter de nouvelles entités dans le Initializer. Il doit implémenter ReferenceRepositoryInitializerInterface et ne doit pas avoir de dépendances. Pour afficher toutes les références, utilisez la commande bin\/behat --available-references.  Les références les plus utilisées sont:\n @admin - Utilisateur Admin @adminRole - Administrator role @organization - Default organization @business_unit - Default business unit  </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-fixtures\/"
            },
            
            {
              value: "Functional",
              label: "<p>Tests fonctionnels Les tests fonctionnels permettent de vérifier l’intégration des différentes couches d’une application.\nDans cet article, vous apprendrez comment vous pouvez améliorer l’expérience de la rédaction de tests fonctionnels avec Oroplatform. Il est recommandé de lire la Doc Symfony concernant les tests avant de continuer. Vous devriez également connaître PhpUnit\nQuand rédiger les tests fonctionnels Les tests fonctionnels sont généralement rédigés pour les :\nContrôleurs Commandes Dépôts Autres services\nL’objectif des tests fonctionnels n’est pas de tester des classes séparées (tests unitaires), mais de tester l’intégration des différentes parties d’une application.\nAjouter des tests fonctionnels pour compléter les tests unitaires pour les raisons suivantes :\n Vous pouvez tester le système multi-composants et vous assurer qu’il fonctionne comme un tout. Vous pouvez éviter la simulation(mocking) de l’interface compliquée ou de la couche de manipulation de données (comme les classes de doctrine pour construire une requête). Les tests unitaires peuvent réussir même si les fonctionnalités ne fonctionnent pas correctement.  Environnement de test Initialisation du client et avertissement quand aux chargement des fixtures Pour améliorer la performance de l’exécution du test, l’initialisation d’un client n’est effectuée qu’une seule fois par cas de test par défaut. Cela signifie que le noyau de l’application Symfony sera démarré une fois par cas de test. Les fixtures sont également chargés une seule fois par cas de test par défaut. D’une part, initialiser et charger des fixtures une fois par cas de test augmente la performance de l’exécution de test mais peut aussi causer des bugs car l’état des fixtures et du noyau (et par conséquent, le conteneur de service) sera partagé par défaut entre les méthodes de test de cas de test séparés. Assurez-vous de réinitialiser cet état si nécessaire.\nConfiguration d\u0026rsquo;un environnement de test Vous devez configurer les paramètres suivants pour l’environnement de test :\n  Créer une base de données distincte pour les tests (p. ex., ajouter le suffixe « _test ») :\n  Configurez les paramètres hôte, port et authentification pour la base de données, le serveur de messagerie et le serveur de socket web dans le fichier parameters_test.yml :\n  Par exemple :\n# config\/parameters_test.yml parameters: database_host: 127.0.0.1 database_port: null database_name: crm_test database_user: root database_password: null mailer_transport: smtp mailer_host: 127.0.0.1 mailer_port: null mailer_encryption: null mailer_user: null mailer_password: null session_handler: null locale: en secret: ThisTokenIsNotSoSecretChangeIt installed: false Installez l\u0026rsquo;application dans un environnement de test  bin\/console oro:install \\ --env=test \\ --organization-name=Oro \\ --user-name=admin \\ --user-email=admin@example.com \\ --user-firstname=John \\ --user-lastname=Doe \\ --user-password=admin \\ --sample-data=n \\ --application-url=http:\/\/localhost Lors de l’installation, la structure de la base de données est configurée et les fixtures standard sont chargés.\nExécuter les tests en utilisant phpunit avec l’option –testsuite appropriée (unit ou functionnal).  ATTENTION Actuellement, l’exécution de différents types de tests automatisés ensemble n’est pas prise en charge. Il est donc fortement déconseillé d’exécuter des tests unitaires et des tests fonctionnels côte à côte en une seule exécution, car cela produit des erreurs. Les tests unitaires créent des objets fictifs qui interfèrent ultérieurement avec l’exécution des tests fonctionnels et créent une ambiguïté inutile. Il est possible de désactiver les tests unitaires au démarrage du test à l’aide de l’option testsuite :\n$ php bin\/phpunit -c . \/ \u0026ndash;testsuite=functional $ php bin\/phpunit -c . \/ \u0026ndash;testsuite=unit\nDatabase Isolation L\u0026rsquo;annotation @dbIsolationPerTest ajoute une transaction qui sera effectuée avant le début d’un test et qui est annulée lorsqu’un test se termine.\n\/\/ src\/Oro\/Bundle\/FooBundle\/Tests\/Functional\/FooBarTest.php namespace Oro\\Bundle\\FooBundle\\Tests\\Functional; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; \/** * @dbIsolationPerTest *\/ class FooBarTest extends WebTestCase { \/\/ ... } Chargement des data fixtures : Utilisez la méthode loadFixtures() pour charger des données dans un test :\n\/\/ src\/Oro\/Bundle\/FooBundle\/Tests\/Functional\/FooBarTest.php namespace Oro\\Bundle\\FooBundle\\Tests\\Functional; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class FooBarTest extends WebTestCase { protected function setUp() { $this-\u0026gt;initClient(); \/\/ must be called before! \/\/ loading fixtures will be executed once, use the second parameter \/\/ $force = true to force the loading $this-\u0026gt;loadFixtures([ \u0026#39;Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\DataFixtures\\LoadFooData\u0026#39;, \u0026#39;@OroFooBarBundle\/Tests\/Functional\/DataFixtures\/bar_data.yml\u0026#39;, ]); } \/\/ ... } Un fixture doit être soit un nom de classe qui implémente Doctrine\\Common\\DataFixtures\\FixtureInterface , soit un chemin vers le fichier nelmio\/alice.\nUn exemple de fixture :\n\/\/ src\/Oro\/Bundle\/FooBarBundle\/Tests\/Functional\/DataFixtures\/LoadFooData.php namespace Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\DataFixtures; use Doctrine\\Common\\DataFixtures\\AbstractFixture; use Doctrine\\Common\\Persistence\\ObjectManager; use Oro\\Bundle\\FooBarBundle\\Entity\\FooEntity; class LoadFooData extends AbstractFixture { public function load(ObjectManager $manager) { $entity = new FooEntity(); $manager-\u0026gt;persist($entity); $manager-\u0026gt;flush(); } } # src\/Oro\/Bundle\/FooBarBundle\/Tests\/Functional\/DataFixtures\/bar_data.yml Oro\\Bundle\\FooBarBundle\\Entity\\BarEntity: bar: name: test Vous pouvez également implémenter l’interfaceDoctrine\\Common\\DataFixtures\\DependentFixtureInterface qui permet de charger des fixtures en fonction des autres fixtures déjà chargées :\n\/\/ src\/Oro\/Bundle\/FooBarBundle\/Tests\/Functional\/DataFixtures\/LoadFooData.php namespace Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\DataFixtures; use Doctrine\\Common\\DataFixtures\\DependentFixtureInterface; use Doctrine\\Common\\DataFixtures\\AbstractFixture; use Doctrine\\Common\\Persistence\\ObjectManager; class LoadFooData extends AbstractFixture implements DependentFixtureInterface { public function load(ObjectManager $manager) { \/\/ load fixtures } public function getDependencies() { return [\u0026#39;Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\DataFixtures\\LoadBarData\u0026#39;]; } } De plus, vous pouvez utiliser des entités spécifiques aux références à partir de fixtures, par exemple :\nnamespace Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\DataFixtures; use Doctrine\\Common\\Persistence\\ObjectManager; use Doctrine\\Common\\DataFixtures\\DependentFixtureInterface; use Doctrine\\Common\\DataFixtures\\AbstractFixture; use Oro\\Bundle\\FooBarBundle\\Entity\\FooEntity; class LoadFooData extends AbstractFixture implements DependentFixtureInterface { public function load(ObjectManager $manager) { $entity = new FooEntity(); $manager-\u0026gt;persist($entity); $manager-\u0026gt;flush(); $this-\u0026gt;addReference(\u0026#39;my_entity\u0026#39;, $entity); } public function getDependencies() { return [\u0026#39;Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\DataFixtures\\LoadBarData\u0026#39;]; } } Maintenant, vous pouvez référencer le fixture par le nom configuré dans votre test :\n\/\/ src\/Oro\/Bundle\/FooBundle\/Tests\/Functional\/FooBarTest.php namespace Oro\\Bundle\\FooBundle\\Tests\\Functional; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class FooBarTest extends WebTestCase { protected $entity; protected function setUp() { $this-\u0026gt;initClient(); $this-\u0026gt;loadFixtures(\u0026#39;Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\DataFixtures\\LoadFooData\u0026#39;); $this-\u0026gt;entity = $this-\u0026gt;getReference(\u0026#39;my_entity\u0026#39;); } \/\/ ... } NOTES :  Par défaut, le gestionnaire d’entités est effacé après le chargement de chaque fixture. Pour éviter le nettoyage une fixture peut implémenterOro\\Bundle\\TestFrameworkBundle\\Test\\DataFixtures\\InitialFixtureInterface. Parfois, vous avez besoin d’une référence à l’Organization, d\u0026rsquo;un User ou d\u0026rsquo;une BusinessUnit. Les fixtures suivants peuvent être utilisés pour les charger :   Oro\\Bundle\\TestFrameworkBundle\\Tests\\Functional\\DataFixtures\\LoadOrganization Oro\\Bundle\\TestFrameworkBundle\\Tests\\Functional\\DataFixtures\\LoadUser Oro\\Bundle\\TestFrameworkBundle\\Tests\\Functional\\DataFixtures\\LoadBusinessUnit  Ecrire des test fonctionnel : Pour créer un test fonctionel :\n Etendez la classe WebTestCase Préparez une instance de la classe Client Préparez vos fixtures ( Optionnel) Préparez le container Appelez les fonctionnalitées du test 6 Vérifiez le résultat  Tests fonctionnel pour les controlleurs : Un test fonctionnel pour un contrôleur se compose de quelques étapes:\n Faire une requete Tester la réponse Cliquez sur un lien ou soumettez un formulaire Test the response Nettoyer et répéter  Exemples de prépraration du client : L’initialisation simple fonctionne pour tester les commandes et les services lorsque l’authentification n’est pas nécessaire.\n\/\/ src\/Oro\/Bundle\/FooBundle\/Tests\/Functional\/FooBarTest.php namespace Oro\\Bundle\\FooBundle\\Tests\\Functional; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class FooBarTest extends WebTestCase { protected function setUp() { $this-\u0026gt;initClient(); \/\/ initialization occurres only once per test class \/\/ now varialbe $this-\u0026gt;client is available } \/\/ ... } Initialisation avec les options Appkernel personnalisées :\n\/\/ src\/Oro\/Bundle\/FooBundle\/Tests\/Functional\/FooBarTest.php namespace Oro\\Bundle\\FooBundle\\Tests\\Functional; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class FooBarTest extends WebTestCase { protected function setUp() { \/\/ first array is Kernel options $this-\u0026gt;initClient([\u0026#39;debug\u0026#39; =\u0026gt; false]); } \/\/ ... } Initialisation avec authentification :\n\/\/ src\/Oro\/Bundle\/FooBundle\/Tests\/Functional\/FooBarTest.php namespace Oro\\Bundle\\FooBundle\\Tests\\Functional; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class FooBarTest extends WebTestCase { protected function setUp() { \/\/ second array is service options \/\/ this example will create client with server options [\u0026#39;PHP_AUTH_USER\u0026#39; =\u0026gt; \u0026#39;admin@example.com\u0026#39;, \u0026#39;PHP_AUTH_PW\u0026#39; =\u0026gt; \u0026#39;admin\u0026#39;] \/\/ make sure you loaded fixture with test user \/\/ bin\/console doctrine:fixture:load --no-debug --append --no-interaction --env=test --fixtures src\/Oro\/src\/Oro\/Bundle\/TestFrameworkBundle\/Fixtures $this-\u0026gt;initClient([], $this-\u0026gt;generateBasicAuthHeader()); \/\/ init client with custom username and password $this-\u0026gt;initClient([], $this-\u0026gt;generateBasicAuthHeader(\u0026#39;custom_username\u0026#39;, \u0026#39;custom_password\u0026#39;)); } \/\/ ... } Types de tests fonctionnels Tester les controllers \/\/ src\/OroCRM\/Bundle\/TaskBundle\/Tests\/Functional\/Controller\/TaskControllersTest.php namespace Oro\\Bundle\\TaskBundle\\Tests\\Functional\\Controller; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; \/** * @outputBuffering enabled *\/ class TaskControllersTest extends WebTestCase { protected function setUp() { $this-\u0026gt;initClient([], $this-\u0026gt;generateBasicAuthHeader()); } public function testCreate() { $crawler = $this-\u0026gt;client-\u0026gt;request(\u0026#39;GET\u0026#39;, $this-\u0026gt;getUrl(\u0026#39;orocrm_task_create\u0026#39;)); $form = $crawler-\u0026gt;selectButton(\u0026#39;Save and Close\u0026#39;)-\u0026gt;form(); $form[\u0026#39;orocrm_task[subject]\u0026#39;] = \u0026#39;New task\u0026#39;; $form[\u0026#39;orocrm_task[description]\u0026#39;] = \u0026#39;New description\u0026#39;; $form[\u0026#39;orocrm_task[dueDate]\u0026#39;] = \u0026#39;2014-03-04T20:00:00\u002b0000\u0026#39;; $form[\u0026#39;orocrm_task[owner]\u0026#39;] = \u0026#39;1\u0026#39;; $form[\u0026#39;orocrm_task[reporter]\u0026#39;] = \u0026#39;1\u0026#39;; $this-\u0026gt;client-\u0026gt;followRedirects(true); $crawler = $this-\u0026gt;client-\u0026gt;submit($form); $result = $this-\u0026gt;client-\u0026gt;getResponse(); $this-\u0026gt;assertHtmlResponseStatusCodeEquals($result, 200); $this-\u0026gt;assertContains(\u0026#39;Task saved\u0026#39;, $crawler-\u0026gt;html()); } \/** * @depends testCreate *\/ public function testUpdate() { $response = $this-\u0026gt;client-\u0026gt;requestGrid( \u0026#39;tasks-grid\u0026#39;, [\u0026#39;tasks-grid[_filter][reporterName][value]\u0026#39; =\u0026gt; \u0026#39;John Doe\u0026#39;] ); $result = $this-\u0026gt;getJsonResponseContent($response, 200); $result = reset($result[\u0026#39;data\u0026#39;]); $crawler = $this-\u0026gt;client-\u0026gt;request( \u0026#39;GET\u0026#39;, $this-\u0026gt;getUrl(\u0026#39;orocrm_task_update\u0026#39;, [\u0026#39;id\u0026#39; =\u0026gt; $result[\u0026#39;id\u0026#39;]]) ); $form = $crawler-\u0026gt;selectButton(\u0026#39;Save and Close\u0026#39;)-\u0026gt;form(); $form[\u0026#39;orocrm_task[subject]\u0026#39;] = \u0026#39;Task updated\u0026#39;; $form[\u0026#39;orocrm_task[description]\u0026#39;] = \u0026#39;Description updated\u0026#39;; $this-\u0026gt;client-\u0026gt;followRedirects(true); $crawler = $this-\u0026gt;client-\u0026gt;submit($form); $result = $this-\u0026gt;client-\u0026gt;getResponse(); $this-\u0026gt;assertHtmlResponseStatusCodeEquals($result, 200); $this-\u0026gt;assertContains(\u0026#39;Task saved\u0026#39;, $crawler-\u0026gt;html()); } \/** * @depends testUpdate *\/ public function testView() { $response = $this-\u0026gt;client-\u0026gt;requestGrid( \u0026#39;tasks-grid\u0026#39;, [\u0026#39;tasks-grid[_filter][reporterName][value]\u0026#39; =\u0026gt; \u0026#39;John Doe\u0026#39;] ); $result = $this-\u0026gt;getJsonResponseContent($response, 200); $result = reset($result[\u0026#39;data\u0026#39;]); $this-\u0026gt;client-\u0026gt;request( \u0026#39;GET\u0026#39;, $this-\u0026gt;getUrl(\u0026#39;orocrm_task_view\u0026#39;, [\u0026#39;id\u0026#39; =\u0026gt; $result[\u0026#39;id\u0026#39;]]) ); $result = $this-\u0026gt;client-\u0026gt;getResponse(); $this-\u0026gt;assertHtmlResponseStatusCodeEquals($result, 200); $this-\u0026gt;assertContains(\u0026#39;Task updated - Tasks - Activities\u0026#39;, $result-\u0026gt;getContent()); } \/** * @depends testUpdate *\/ public function testIndex() { $this-\u0026gt;client-\u0026gt;request(\u0026#39;GET\u0026#39;, $this-\u0026gt;getUrl(\u0026#39;orocrm_task_index\u0026#39;)); $result = $this-\u0026gt;client-\u0026gt;getResponse(); $this-\u0026gt;assertHtmlResponseStatusCodeEquals($result, 200); $this-\u0026gt;assertContains(\u0026#39;Task updated\u0026#39;, $result-\u0026gt;getContent()); } } Tester les ACLs dans les controlleurs : Dans cet exemple, un utilisateur sans autorisations suffisantes essaie d’accéder à une action du contrôleur. La méthode assertHtmlResponseStatusCodeEquals() est utilisée pour s’assurer que l’accès à la ressource demandée est refusé à l’utilisateur :\nnamespace Oro\\Bundle\\UserBundle\\Tests\\Functional; use Oro\\Bundle\\UserBundle\\Tests\\Functional\\DataFixtures\\LoadUserData; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; \/** * @outputBuffering enabled *\/ class UsersTest extends WebTestCase { protected function setUp() { $this-\u0026gt;initClient(); $this-\u0026gt;loadFixtures([\u0026#39;Oro\\Bundle\\UserBundle\\Tests\\Functional\\API\\DataFixtures\\LoadUserData\u0026#39;]); } public function testUsersIndex() { $this-\u0026gt;client-\u0026gt;request( \u0026#39;GET\u0026#39;, $this-\u0026gt;getUrl(\u0026#39;oro_user_index\u0026#39;), [], [], $this-\u0026gt;generateBasicAuthHeader(LoadUserData::USER_NAME, LoadUserData::USER_PASSWORD) ); $result = $this-\u0026gt;client-\u0026gt;getResponse(); $this-\u0026gt;assertHtmlResponseStatusCodeEquals($result, 403); } public function testGetUsersAPI() { $this-\u0026gt;client-\u0026gt;request( \u0026#39;GET\u0026#39;, $this-\u0026gt;getUrl(\u0026#39;oro_api_get_users\u0026#39;), [\u0026#39;limit\u0026#39; =\u0026gt; 100], [], $this-\u0026gt;generateWsseAuthHeader(LoadUserData::USER_NAME, LoadUserData::USER_API_KEY) ); $result = $this-\u0026gt;client-\u0026gt;getResponse(); $this-\u0026gt;assertJsonResponseStatusCodeEquals($result, 403); } } Voici un exemple de fixture qui ajoute un utilisateur sans permission :\n\/ src\/Oro\/Bundle\/UserBundle\/Tests\/Functional\/DataFixtures\/LoadUserData.php namespace Oro\\Bundle\\UserBundle\\Tests\\Functional\\DataFixtures; use Doctrine\\Common\\DataFixtures\\AbstractFixture; use Doctrine\\Common\\Persistence\\ObjectManager; use Symfony\\Component\\DependencyInjection\\ContainerAwareInterface; use Symfony\\Component\\DependencyInjection\\ContainerInterface; use Oro\\Bundle\\UserBundle\\Entity\\Role; use Oro\\Bundle\\UserBundle\\Entity\\UserApi; class LoadUserData extends AbstractFixture implements ContainerAwareInterface { const USER_NAME = \u0026#39;user_wo_permissions\u0026#39;; const USER_API_KEY = \u0026#39;user_api_key\u0026#39;; const USER_PASSWORD = \u0026#39;user_password\u0026#39;; private $container; public function setContainer(ContainerInterface $container = null) { $this-\u0026gt;container = $container; } public function load(ObjectManager $manager) { \/** @var \\Oro\\Bundle\\UserBundle\\Entity\\UserManager $userManager *\/ $userManager = $this-\u0026gt;container-\u0026gt;get(\u0026#39;oro_user.manager\u0026#39;); \/\/ Find role for user to able to authenticate in test. \/\/ You can use any available role that you want dependently on test logic. $role = $manager-\u0026gt;getRepository(Role::class) -\u0026gt;findOneBy([\u0026#39;role\u0026#39; =\u0026gt; \u0026#39;IS_AUTHENTICATED_ANONYMOUSLY\u0026#39;]); \/\/ Creating new user $user = $userManager-\u0026gt;createUser(); \/\/ Creating API entity for user, we will reference it in testGetUsersAPI method, \/\/ if you are not going to test API you can skip it $api = new UserApi(); $api-\u0026gt;setApiKey(self::USER_API_KEY) -\u0026gt;setUser($user); \/\/ Creating user $user -\u0026gt;setUsername(self::USER_NAME) -\u0026gt;setPlainPassword(self::USER_PASSWORD) \/\/ This value is referenced in testUsersIndex method -\u0026gt;setFirstName(\u0026#39;Simple\u0026#39;) -\u0026gt;setLastName(\u0026#39;User\u0026#39;) -\u0026gt;addRole($role) -\u0026gt;setEmail(\u0026#39;test@example.com\u0026#39;) -\u0026gt;setApi($api) -\u0026gt;setSalt(\u0026#39;\u0026#39;); \/\/ Handle password encoding $userManager-\u0026gt;updatePassword($user); $manager-\u0026gt;persist($user); $manager-\u0026gt;flush(); } } Tester les commandes : Lorsque Oroplatform est installé, vous pouvez tester les commandes en utilisant la méthode runCommand() de la classe WebTestCase. Cette méthode exécute une commande avec des paramètres donnés et retourne sa sortie sous forme de chaîne. Par exemple, voyez à quoi ressemble le test pour la classe UpdateSchemaDoctrineListener du SearchBundle :\nnamespace Oro\\Bundle\\SearchBundle\\Tests\\Functional\\EventListener; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class UpdateSchemaListenerTest extends WebTestCase { protected function setUp() { $this-\u0026gt;initClient(); } \/** * @dataProvider commandOptionsProvider *\/ public function testCommand($commandName, array $params, $expectedContent) { $result = $this-\u0026gt;runCommand($commandName, $params); $this-\u0026gt;assertContains($expectedContent, $result); } public function commandOptionsProvider() { return [ \u0026#39;otherCommand\u0026#39; =\u0026gt; [ \u0026#39;commandName\u0026#39; =\u0026gt; \u0026#39;doctrine:mapping:info\u0026#39;, \u0026#39;params\u0026#39; =\u0026gt; [], \u0026#39;expectedContent\u0026#39; =\u0026gt; \u0026#39;OK\u0026#39; ], \u0026#39;commandWithoutOption\u0026#39; =\u0026gt; [ \u0026#39;commandName\u0026#39; =\u0026gt; \u0026#39;doctrine:schema:update\u0026#39;, \u0026#39;params\u0026#39; =\u0026gt; [], \u0026#39;expectedContent\u0026#39; =\u0026gt; \u0026#39;Please run the operation by passing one - or both - of the following options:\u0026#39; ], \u0026#39;commandWithAnotherOption\u0026#39; =\u0026gt; [ \u0026#39;commandName\u0026#39; =\u0026gt; \u0026#39;doctrine:schema:update\u0026#39;, \u0026#39;params\u0026#39; =\u0026gt; [\u0026#39;--dump-sql\u0026#39; =\u0026gt; true], \u0026#39;expectedContent\u0026#39; =\u0026gt; \u0026#39;ALTER TABLE\u0026#39; ], \u0026#39;commandWithForceOption\u0026#39; =\u0026gt; [ \u0026#39;commandName\u0026#39; =\u0026gt; \u0026#39;doctrine:schema:update\u0026#39;, \u0026#39;params\u0026#39; =\u0026gt; [\u0026#39;--force\u0026#39; =\u0026gt; true], \u0026#39;expectedContent\u0026#39; =\u0026gt; \u0026#39;Schema update and create index completed\u0026#39; ] ]; } } VOIR AUSSI Lisez les Test des commandes dans la documentation officielle pour plus d’informations sur la façon de tester les commandes dans une application Symfony.\nTester les services ou les Repositories Pour tester des services ou des dépôts, vous pouvez accéder au conteneur de service via la méthode getContainer() :\n\/\/ src\/Oro\/Bundle\/FooBarBundle\/Tests\/Functional\/FooBarTest.php namespace Oro\\Bundle\\FooBarBundle\\Tests\\Functional; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class FooBarTest extends WebTestCase { protected $repositoryOrService; protected function setUp() { $this-\u0026gt;initClient(); $this-\u0026gt;loadFixtures([\u0026#39;Oro\\Bundle\\FooBarBundle\\Tests\\Functional\\API\\DataFixtures\\LoadFooBarData\u0026#39;]); $this-\u0026gt;repositoryOrService = $this-\u0026gt;getContainer()-\u0026gt;get(\u0026#39;repository_or_service_id\u0026#39;); } public function testMethod($commandName, array $params, $expectedContent) { $expected = \u0026#39;test\u0026#39;; $this-\u0026gt;assertEquals($expected, $this-\u0026gt;repositoryOrService-\u0026gt;callTestMethod()); } Example de test fonctionnel : Ceci est un exemple de la façon dont vous pouvez écrire un test d’intégration pour une classe qui utilise l’ORM de doctrine sans moquer ses classes et en utilisant de vrais services de Doctrine :\nnamespace Oro\\Bundle\\BatchBundle\\Tests\\Functional\\ORM\\QueryBuilder; use Doctrine\\ORM\\Query\\Expr\\Join; use Doctrine\\ORM\\QueryBuilder; use Doctrine\\ORM\\EntityManager; use Oro\\Bundle\\BatchBundle\\ORM\\QueryBuilder\\CountQueryBuilderOptimizer; use Oro\\Bundle\\TestFrameworkBundle\\Test\\WebTestCase; class CountQueryBuilderOptimizerTest extends WebTestCase { \/** * @dataProvider getCountQueryBuilderDataProvider * @param QueryBuilder $queryBuilder * @param string $expectedDql *\/ public function testGetCountQueryBuilder(QueryBuilder $queryBuilder, $expectedDql) { $optimizer = new CountQueryBuilderOptimizer(); $countQb = $optimizer-\u0026gt;getCountQueryBuilder($queryBuilder); $this-\u0026gt;assertInstanceOf(\u0026#39;Doctrine\\ORM\\QueryBuilder\u0026#39;, $countQb); \/\/ Check for expected DQL $this-\u0026gt;assertEquals($expectedDql, $countQb-\u0026gt;getQuery()-\u0026gt;getDQL()); \/\/ Check that Optimized DQL can be converted to SQL $this-\u0026gt;assertNotEmpty($countQb-\u0026gt;getQuery()-\u0026gt;getSQL()); } \/** * @return array *\/ public function getCountQueryBuilderDataProvider() { self::initClient(); $em = self::getContainer()-\u0026gt;get(\u0026#39;doctrine.orm.entity_manager\u0026#39;); return [ \u0026#39;simple\u0026#39; =\u0026gt; [ \u0026#39;queryBuilder\u0026#39; =\u0026gt; self::createQueryBuilder($em) -\u0026gt;from(\u0026#39;OroUserBundle:User\u0026#39;, \u0026#39;u\u0026#39;) -\u0026gt;select([\u0026#39;u.id\u0026#39;, \u0026#39;u.username\u0026#39;]), \u0026#39;expectedDQL\u0026#39; =\u0026gt; \u0026#39;SELECT u.id FROM OroUserBundle:User u\u0026#39; ], \u0026#39;group_test\u0026#39; =\u0026gt; [ \u0026#39;queryBuilder\u0026#39; =\u0026gt; self::createQueryBuilder($em) -\u0026gt;from(\u0026#39;OroUserBundle:User\u0026#39;, \u0026#39;u\u0026#39;) -\u0026gt;select([\u0026#39;u.id\u0026#39;, \u0026#39;u.username as uName\u0026#39;]) -\u0026gt;groupBy(\u0026#39;uName\u0026#39;), \u0026#39;expectedDQL\u0026#39; =\u0026gt; \u0026#39;SELECT u.id, u.username as uName FROM OroUserBundle:User u GROUP BY uName\u0026#39; ] ); } \/** * @param EntityManager $entityManager * @return QueryBuilder *\/ public static function createQueryBuilder(EntityManager $entityManager) { return new QueryBuilder($entityManager); } } Attention Si votre classe est responsable de la récupération des données, il est préférable de charger les fixtures et de les récupérer en utilisant une classe de test, puis d’affirmer que les résultats sont valides. Vérifier le DQL suffit dans ce cas car c’est la seule responsabilité de cette classe de modifier la requête.\n</p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/functional\/"
            },
            
            {
              value: "intro",
              label: "<p>Les tests unitaires et fonctionnels, qui aident à tester l’architecture d’application et les API de programmation.\nCependant, ces types de tests donnent aux développeurs aucune garantie que lorsque l’utilisateur ouvre une page, tout va fonctionner comme prévu. Pour cette raison, le framework Behavior-Driven nommé Behat est utilisé, qui au lieu de compter sur le code source se comporte comme un utilisateur réel. Il peut très bien émuler l’utilisateur, exécuter des tests dans un véritable navigateur Web, et utilise un langage spécifique et lisible par tout le monde appelé Gherkin pour décrire les tests.\n Tests fonctionnels Tests Behat Tests Javascript  Le projet original est sous license CC-BY-NC-SA 4.0 La documentation original est publié ici : Doc original\nCette documentation est elle aussi sous license CC-BY-NC-SA 4.0\n</p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/intro\/"
            },
            
            {
              value: "Isolation",
              label: "<p>Chaque fonctionnalité peut interagir avec l\u0026rsquo;application et effectuer des opérations CRUD. Par conséquent, la base de données peut être modifiée. Pour éviter les collisions de données, les fonctionnalités sont isolées: la base de données et les répertoires de cache sont vidés avant d\u0026rsquo;exécuter les tests de fonctionnalités; ils sont restaurés une fois l\u0026rsquo;exécution des tests de fonctionnalités terminée.\nChaque isolateur doit implémenter l\u0026rsquo;interface Oro\\Bundle\\TestFrameworkBundle\\Behat\\Isolation\\IsolatorInterface et le tag `oro_behat.isolator avec de la priorité.\nDésactiver l\u0026rsquo;isolation des fonctionnalités Vous pouvez désactiver l\u0026rsquo;isolation des fonctionnalités en ajoutant l\u0026rsquo;option -skip-isolators=database,cache à la commande console behat. Dans ce cas, la combinaison des tests de fonctionnalité peut s\u0026rsquo;exécuter beaucoup plus rapidement, mais la logique de test doit se soucier de la cohérence de la base de données et du cache.\n</p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-isolation\/"
            },
            
            {
              value: "Symfony",
              label: "<p>Behat est une application console Symfony avec son propre conteneur et ses propres services. Un conteneur Behat peut être configuré via des extensions en utilisant behat.yml à la racine du répertoire d\u0026rsquo;application. Le conteneur d\u0026rsquo;application peut être utilisé par le noyau injecté dans votre contexte après avoir implémenté KernelAwareContext et utilisé le trait KernelDictionary.\nuse Behat\\Symfony2Extension\\Context\\KernelAwareContext; use Behat\\Symfony2Extension\\Context\\KernelDictionary; use Oro\\Bundle\\TestFrameworkBundle\\Behat\\Context\\OroFeatureContext; class FeatureContext extends OroFeatureContext implements KernelAwareContext { use KernelDictionary; public function useContainer() { $doctrine = $this-\u0026gt;getContainer()-\u0026gt;get(\u0026#39;doctrine\u0026#39;); } } De plus, vous pouvez injecter des services dans le contexte behat:\noro_behat_extension: suites: OroCustomerAccountBridgeBundle: contexts: - OroImportExportBundle::ImportExportContext: - \u0026#39;@oro_entity.entity_alias_resolver\u0026#39; - \u0026#39;@oro_importexport.processor.registry\u0026#39; </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-symfony\/"
            },
            
            {
              value: "Tech.Kiboko.fr",
              label: "<p></p>",
              url: "http:\/\/tech.kiboko.fr\/"
            },
            
            {
              value: "Test unitaire Javascript",
              label: "<p>Test unitaire Javascript Installation Les logiciel suivant sont nécessaire pour exécuter les tests JS :\n Node.js (Moteur JavaScript) Karma (Lanceur de test Javascript) Jasmine 3.5 (Framework BDD)  NOTE Pour obtenir des instructions sur la façon d’installer Node.js, accédez au site officiel.\nUne fois Node installé, installez plusieurs modules en utilisant Node Packaged Modules en exécutant la commande suivante à partir du dossier racine de votre application\nnpm install --prefix=vendor\/oro\/platform\/build\nOù le paramètre –prefix spécifie le chemin relatif au répertoire platform\/build.\n##Configuration\nLa configuration pour lancer les tests et dans build\/karma.config.js.dist.\nNote Voir plus d’informations dans la documentation officielle de Karma.\nIl peut être utile de créer une configuration séparé en copiant .\/vendor\/oro\/platform\/build\/karma.config.js.dist vers .\/vendor\/oro\/platform\/build\/karma.config.js et le modifier.\nLancement Pour exécuter des tests, appelez la commande suivante :\n.\/vendor\/oro\/platform\/build\/node_modules\/.bin\/karma start .\/vendor\/oro\/platform\/build\/karma.conf.js.dist --single-run N’oubliez pas de changer le chemin vers le répertoire de plateform\/build, s’il est différent dans votre application. ` Pour exécuter une testsuite avec une configuration personnalisée, vous pouvez utiliser les paramètres de ligne de commande qui écrasent les paramètres dans le fichier de configuration.\nQuelques options personnalisées ont été ajoutées pour préparer la configuration de Karma :\n–mask string file masque pour les fichiers Spec.Par défault c\u0026rsquo;est vendor\/oro\/**\/Tests\/JS\/**\/*Spec.js  qui correspond à tous les fichiers Spec du projet dans le répertoire vendor oro. –spec string chemin vers un fichier de Spec spécifique, s’il est passé, alors la recherche par masque est ignorée et le test est exécuté fichier Spec unique. –skip-indexing boolean permet de sauter la phase de la collecte des fichiers de spécifications et de réutiliser la collection des des lancements précédent. –theme string le nom du thème est utilisé pour générer la configuration de webpack pour certains thèmes. Par défaut, c’est `admin.oro.\nLes extensions suivantes peuvent être utiles si vous utilisez Phpstorm:\nLe plugin Karma aide à exécuter des testsuite à partir de l’IDE et voir les résultats facilement. ddescriber pour jasmin aide à désactiver ou à sauter certains tests de la testsuite rapidement\nRédaction NOTE Voir la documentation de Jasmine 3.5 pour de plus amples renseignements sur la rédaction de tests avec Jasmine 3.5.\nL’exemple ci-dessous illustre les spécifications du module oroui\/js\/mediator :\nimport mediator from \u0026#39;oroui\/js\/mediator\u0026#39;; import Backbone from \u0026#39;backbone\u0026#39;; describe(\u0026#39;oroui\/js\/mediator\u0026#39;, function () { it(\u0026#34;compare mediator to Backbone.Events\u0026#34;, function() { expect(mediator).toEqual(Backbone.Events); expect(mediator).not.toBe(Backbone.Events); }); }); karma-jsmodule-exposure Cette approche permet de tester l’API publique d’un module. Mais vous pouvez utilisez le plugin karma-jsmodule-exposure pour injecter du code exposant à l’intérieur du js-module et fournit l’API pour manipuler les variables internes :\nimport someModule from \u0026#39;some\/module\u0026#39;; import jsmoduleExposure from \u0026#39;jsmodule-exposure\u0026#39;; \/\/ get exposure instance for tested module  var exposure = jsmoduleExposure.disclose(\u0026#39;some\/module\u0026#39;); describe(\u0026#39;some\/module\u0026#39;, function () { var foo; beforeEach(function () { \/\/ create mock object with stub method \u0026#39;do\u0026#39;  foo = jasmine.createSpyObj(\u0026#39;foo\u0026#39;, [\u0026#39;do\u0026#39;]); \/\/ before each test, pass it off instead of original  exposure.substitute(\u0026#39;foo\u0026#39;).by(foo); }); afterEach(function () { \/\/ after each test restore original value of foo  exposure.recover(\u0026#39;foo\u0026#39;); }); it(\u0026#39;check doSomething() method\u0026#39;, function() { someModule.doSomething(); \/\/ stub method of mock object has been called  expect(foo.do).toHaveBeenCalled(); }); }); Jasmine-jQuery Jasmine-jQuery étend la fonctionnalité de base de Jasmine, en particulier :\n ajoute un certain nombre de matchers utiles, et permet de vérifier l’état d’une instance jQuery facilement applique des fixtures HTML avant chaque test et retourne le document après les tests fournit un moyen de charger les fixtures HTML et JSON nécessaires pour un test  Cependant, parce que Jasmine-jQuery nécessite le chemin complet vers une ressource fixture, il est préférable d’utiliser import pour charger les fixtures par un chemin connexe.\nimport \u0026#39;jasmine-jquery\u0026#39;; import $ from \u0026#39;jquery\u0026#39;; import html from \u0026#39;text-loader!.\/Fixture\/markup.html\u0026#39;; describe(\u0026#39;some\/module\u0026#39;, function () { beforeEach(function () { \/\/ appends loaded html to document\u0026#39;s body,  \/\/ after test rolls back it automatically  window.setFixtures(html); }); it(\u0026#39;checks the markup of a page\u0026#39;, function () { expect($(\u0026#39;li\u0026#39;)).toHaveLength(5); }); }); </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/javascript\/"
            },
            
            {
              value: "Tips",
              label: "<p>Health Checkers Behat a une possibilité native d\u0026rsquo;invoquer des formateurs sans exécuter les tests et les hooks.\nVous pouvez essayer:\nbin\/behat --dry-run Cela peut être utile au cas où vous n\u0026rsquo;êtes pas sûr d\u0026rsquo;avoir déclaré tout le contexte nécessaire à votre fonctionnalité. OroBehatExtension améliore cette fonctionnalité et ajoute des fonctionnalités supplémentaires.\nErreurs Erreur courante : Couldn’t generate random unique value for OroBundleUserBundleEntityUser: username in 128 tries\nhot fix:\nVérifiez votre fixtures. Supprimez le suffixe (unique) dans la propriété d\u0026rsquo;entité dans le luminaire d\u0026rsquo;entité, comme dans l\u0026rsquo;exemple suivant:\nFixture incorrect :\nyaml Oro\\Bundle\\UserBundle\\Entity\\User: charlie: firstName: Marge lastName: Marge Simpson username (unique): marge228 Correction\nOro\\Bundle\\UserBundle\\Entity\\User: charlie: firstName: Marge lastName: Marge Simpson username: marge228 Erreur racine\nAlice se souvient de toutes les valeurs de la propriété d\u0026rsquo;entité donnée et essaie de générer une valeur unique, mais cela provoque des problèmes lorsqu\u0026rsquo;il n\u0026rsquo;y a qu\u0026rsquo;une seule valeur pour la propriété d\u0026rsquo;entité.\nCette option peut toujours être utilisée si elle est combinée avec la fausse valeur générée automatiquement, comme dans l\u0026rsquo;exemple suivant:\nOro\\Bundle\\UserBundle\\Entity\\User: charlie: firstName (unique): \u0026lt;firstName()\u0026gt; lastName: Marge Simpson username: marge228 Ajouter des extraits Le développement des fonctionnalités comprend les étapes de conception suivantes:\n Créez un brouillon de la fonctionnalité: implémentez un scénario de haut niveau qui couvre l\u0026rsquo;histoire. À ce stade, vous devez avoir une compréhension claire des résultats commerciaux obtenus par l\u0026rsquo;automatisation des tests de fonctionnalités. Spécifiez tous les scénarios susceptibles de se produire lors de l\u0026rsquo;utilisation de la fonction. Les étapes exactes ne sont pas nécessaires. Finalisez la vue d\u0026rsquo;ensemble de la mise en œuvre et planifiez les différentes étapes.  Certaines étapes peuvent déjà être entièrement automatisées. Idéalement, vous devez automatiser les étapes manquantes après avoir prévu de les utiliser dans vos scénarios de test de fonctionnalités. Si la fonctionnalité de fonctionnalité est déjà implémentée, il est nécessaire d\u0026rsquo;implémenter les étapes behat impliquées dans le test de fonctionnalité.\nCependant, il est parfois impossible de le faire immédiatement (en raison de l\u0026rsquo;implémentation incomplète des fonctionnalités, des problèmes de blocage ou des informations manquantes). Dans ce cas, vous pouvez temporairement vous moquer des étapes qui manquent d\u0026rsquo;implémentation.\nUn moyen rapide de le faire consiste à exécuter dry-run sur vos tests de fonctionnalités. Dans la console, exécutez la commande suivante:\nbin\/behat path\/to\/your.feature --dry-run --append-snippets --snippets-type=regex\nLa fonctionnalité est exécutée en mode –dry-run , au stade final de l\u0026rsquo;exécution, vous êtes invité à ajouter des étapes de mise en œuvre simulée non définies à l\u0026rsquo;un des contextes existants.\nComment trouver l\u0026rsquo;étape nécessaire Lorsque vous concevez des scénarios d\u0026rsquo;automatisation de test pour la nouvelle fonctionnalité, vous pouvez avoir du mal à trouver des étapes à réutiliser parmi les centaines d\u0026rsquo;étapes déjà automatisées. Utilisez les conseils ci-dessous pour trouver l\u0026rsquo;étape nécessaire.\nSuggestion automatique dans PhpStorm\nLors de la conception d\u0026rsquo;un scénario dans le fichier de fonctionnalités, PhpStorm vous propose des conseils sur les étapes implémentées qui correspondent aux mots clés. Par exemple, lorsque vous tapez grid ou form, les étapes qui impliquent ces éléments apparaissent dans le bloc de suggestions.\nSi PhpStorm ne vous propose aucun conseil lors de la frappe, veuillez vérifier les points suivants:\n Vous avez installé les vendors Vous avez installé le plugin behat pour PhpStorm  Trouvez le contexte nécessaire\nChaque classe Context doit implémenter l\u0026rsquo;interface Behat\\Behat\\Context\\Context. Obtenez la liste des contextes implémentés et trouvez celui nécessaire par nom.\nHabituellement, le nom du contexte est explicite, par exemple, GridContext, FormContext, ACLContext, etc.\nUtiliser Grep dans la console\nSi, pour une raison quelconque, vous n\u0026rsquo;utilisez pas PhpStorm ou le plugin Behat, vous pouvez toujours trouver l\u0026rsquo;étape nécessaire en filtrant la sortie de la commande qui prévisualise toutes les étapes de la fonctionnalité (utilisez Grep).\nTapez la commande suivante dans votre console:\nbin\/behat -dl -s AcmeDemoBundle | grep \u0026quot;flash message\u0026quot;\nbin\/behat -dl -s AcmeDemoBundle | grep \u0026quot;grid\u0026quot;\nPS : Vous ne pouvez utiliser l\u0026rsquo;interface de ligne de commande behat qu\u0026rsquo;après avoir installé l\u0026rsquo;application.\n</p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/behat\/behat-tips\/"
            },
            
            {
              value: "Monolog",
              label: "<p>PSR3 et Monolog Qu\u0026rsquo;est-ce qu\u0026rsquo;un log ? A quoi ça sert ?  Log = Journal Indique différentes choses telles que des actions qui sont faites Très utiles pour les erreurs  La PSR-3, une interface commune d\u0026rsquo;interopérabilité https:\/\/www.php-fig.org\/psr\/psr-3\/\n LoggerInterface Remplace les logs de PHP Propose différents niveaux de sévérité de la norme Syslog     Debug Info Notice Warning Error Critical Alert Emergency     100 200 250 300 400 500 550 600     Implémentée par KLogger, Monolog, Analog et bien d\u0026rsquo;autres  Comment choisir le bon niveau de log ? Niveau 1\n Debug : Informations pour debug son app 🐛   réservé au développeur\n Niveau 2 :\n Info : Différentes informations de ce qui se passe ✅ Notice : D\u0026rsquo;autres informations qui peuvent être utiles qu\u0026rsquo;on peut garder 📖 Warning : Il faut prêter attention mais ce ne sont pas des erreurs ⚠️ Error : Quelque chose n\u0026rsquo;a pas fonctionné mais ça peut parfois attendre ❌   dysfonctionnement non bloquant (reprise sur erreur)\n Niveau 3 :\n Critical : Quelque chose n\u0026rsquo;a pas fonctionné mais là c\u0026rsquo;est urgent 💥 Alert : Quelque chose n\u0026rsquo;est plus utilisable du tout 🚨 Emergency : Système inutilisable ☢️ (= réveil quelqu\u0026rsquo;un la nuit pour intervenir) [notif SMS possible]   dysfonctionnement bloquant (pas de reprise sur erreur)\n Une implémentation de PSR-3 : Monolog Monolog a été développé par Jordi Boggiano (co-fondateur de Composer) : https:\/\/github.com\/Seldaek\/\n Permet d\u0026rsquo;envoyer des logs à plusieurs handlers Filtrer selon le niveau de log  Exemple d\u0026rsquo;utilisation, pour des logs Critical\/Alert\/Emergency ils pourraient être envoyés par email (ou par SMS).\nExemple de la doc Symfony, avec configuration des logs de base :\nTous les logs seront donc écrit dans le fichier .log\nCas concrets Utilisation concrète\n 1er étape : log envoyé a Elastic via Logstash 2ème étape : affichage des logs en BO gràce au composant ElasticSearch : https:\/\/github.com\/elastic\/elasticsearch-php  Exemple de configuration avec répartition des logs dans 2 handlers :\nservices: monolog.formatters.logstash: class: Monolog\\Formatter\\LogstashFormatter arguments: $applicationName: \u0027kiboko\u0027 monolog: handlers: mail_on_errors: type: fingers_crossed action_level: critical handler: buffered buffered: type: buffer handler: swift swift: type: swift_mailer from_email: alert@kiboko.fr to_email: nicolas@kiboko.fr subject: An Error Occurred! level: critical logstash: type: socket connection_string: \u0027tcp:\/\/logstash:5044\u0027 level: debug formatter: monolog.formatters.logstash Kibana Kibana est une interface utilisateur gratuite et ouverte qui vous permet de visualiser vos données Elasticsearch et de naviguer dans la Suite Elastic.\nhttps:\/\/www.elastic.co\/fr\/kibana\nUtilisation de la stack ElasticStack (ex: EKL Elastic\/Kibana\/Logstash)\nAvec Kibana, on a la possiblité de filter les logs par niveau\nConférences AFUP à ce sujet Pour en savoir plus vous pouvez retrouver\n État de l\u0026rsquo;art d\u0026rsquo;Elasticsearch avec PHP par Damien Alexandre   =\u0026gt; ForumPhp 2020 : https:\/\/afup.org\/talks\/3449-etat-de-l-art-d-elasticsearch-avec-php\n Laisse pas trainer ton log par Olivier Dolbeau :   =\u0026gt; ForumPhp 2014 : https:\/\/afup.org\/talks\/1160-laisse-pas-trainer-ton-log\n</p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/monolog\/"
            },
            
            {
              value: "Exceptions",
              label: "<p>Qu\u0026rsquo;est qu\u0026rsquo;une exception  Objet lancé lors d\u0026rsquo;une erreur (probléme physique, erreur de programmation) Permet de revenir à un état stable Remonte la pile d\u0026rsquo;exécution les plus rapidement possible jusqu\u0026rsquo;à ce qu\u0026rsquo;elle soit rattrapé (gérer) Implémente l\u0026rsquo;interface Throwable qui permet de \u0026ldquo;catcher\u0026rdquo; une erreur A ne pas confondre avec Error (souvant lancé par PHP lui-même)  Information d\u0026rsquo;une exception public function __construct($message=\u0026quot;\u0026quot;; $code=0, Throwable $previous=null) { } 4 éléments importants :\n Message Fichier source de l\u0026rsquo;exception Code d\u0026rsquo;exception Stack trace  4 outils  Throw Try Catch Finally   Que ce passe t\u0026rsquo;il si on ne catch pas l\u0026rsquo;exception ? Erreur fatale : le processus s\u0026rsquo;arrête\n Liste des exceptions PHP  Exceptions SPL (PHP) : https:\/\/www.php.net\/manual\/fr\/spl.exceptions.php Exceptions Réservées (Zend) : https:\/\/www.php.net\/manual\/fr\/reserved.exceptions.php  exception Handler function handler($exception) { echo \u0026quot;\u0026lt;b\u0026gt;Exception:\u0026lt;\/b\u0026gt; \u0026quot;, $exception-\u0026gt;getMessage(); \/\/ logging ... } set_exception_handler(\u0026quot;handler\u0026quot;); throw new Exception(\u0026quot;Uncaught exception occurred!\u0026quot;; echo \u0026quot;Ah bah non...\u0026quot;; Bonnes pratiques  Gérer les exceptions de la plus spécifique à la moins spécifique   Gérer plusieurs exceptions à la fois  class MainException extends Exception {} class SubException extends Exception {} try { throw new SubException; } catch (MainException | SubException $e) { echo \u0026quot;Exception thrown: \u0026quot; . get_class($e); }  Finally\u0026hellip;  function getNumber(): int { try { echo \u0026quot;Hello\u0026quot;; throw new RuntimeException( \u0026quot;Please help me\u0026quot;); return 0; } catch(RuntimeException $exception) { echo \u0026quot;Il faut gérer cette exception\u0026quot; return -1; } finally { echo \u0026quot;My name is Julien\u0026quot; return 2; } } Nommage Nommer l\u0026rsquo;exception, pas l\u0026rsquo;émetteur\nBien nommer les exceptions Mauvaise pratique Bonne pratique Contenu de l\u0026rsquo;exception Toujours fournir un maximum d\u0026rsquo;information pour le contexte\nCa évite de chercher pendant 4 heures pourquoi ça bug\u0026hellip;\nUtiliser le I de SOLID Ne pas hésiter à utiliser des interfaces\nGérer l\u0026rsquo;exception au bon moment Si vous ne savez pas comment gérer l\u0026rsquo;exception, laissez la remonter. C\u0026rsquo;est surement du ressort des classes au dessus.\nhttps:\/\/github.com\/symfony\/symfony\/blob\/4.3\/src\/Symfony\/Component\/HttpKernel\/EventListener\/ExceptionListener.php\nConclusion Une exception est un événement qui arrive à un moment dans l\u0026rsquo;application.\nCet événement intervient lorsque quelque chose de problématique est intervenue.La cause peut être trés varié.\nL\u0026rsquo;exception doit être la plus explicite possible.\nGérer toutes les exceptions dans un try \/ catch (Exception $e) est une très mauvaise pratique.\nSources :  https:\/\/www.php.net\/ http:\/\/www.upv.es\/~jgonsol\/tutorial\/java\/exceptions\/definition.html#:~:text=Definition%3A%20An%20exception%20is%20an,the%20normal%20flow%20of%20instructions. https:\/\/medium.com\/@anastasionico\/good-practices-handling-error-and-exceptions-in-php-5c3d84d342a9 https:\/\/stackify.com\/php-try-catch-php-exception-tutorial\/ https:\/\/stackoverflow.com\/ ( ne jugez pas svp) https:\/\/blog.theodo.com\/2014\/04\/manage-php-errors-and-exceptions-in-your-project\/#:~:text=Errors%20or%20Exceptions,tell%20that%20something%20went%20wrong.\u0026amp;text=Exceptions%20are%20catchable%2C%20unlike%20errors,the%20execution%20of%20the%20program. https:\/\/blog.eleven-labs.com\/en\/php_handle-exception-gracefully\/  </p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/exceptions\/"
            },
            
            {
              value: "Doctrine type",
              label: "<p>Les types Doctrine Les numériques  integer smallint : pas plus de 65 535 integer integer : jusqu\u0026rsquo;à 4 millions, ou alors \u002b2 millions\/-2 millions string bigint : sur 64 bits. c\u0026rsquo;est beaucoup string decimal : si on connaît le nombre de chiffres après la virgule float float : précision pas très importante, ça peut être arrondi  Les chaînes  string string : taille limitée par la DB, Doctrine peut le passer en texte string text : no limit string guid : global unique identifier. ex: filename iPhone, registre Windows resource binary : images, médias, taille limitée par la DB, Doctrine peut le passer en blob resource blob : no limit  Les bits  boolean boolean : true\/false (en réalité c\u0026rsquo;est juste un int)  Les dates  \\DateTime date\tdate \\DateTime datetime\tdate et heure \\DateTime datetimetz\tdate, heure et décalage horaire (par rapport à UTC) \\DateTime time\theure \\DateTime dateinterval\técart entre dates \\DateTimeImmutable datetime_immutable \\DateTimeImmutable date_immutable \\DateTimeImmutable time_immutable  Mutable $date = new \\DateTime(); echo $date-\u0026gt;format(\u0027y-m-d\u0027);\t\/\/ \u00272020-09-25\u0027 $bidule = $date-\u0026gt;modify(\u0027\u002b3 month\u0027); echo $bidule-\u0026gt;format(\u0027y-m-d\u0027); \/\/ \u00272020-12-25\u0027 echo $date-\u0026gt;format(\u0027y-m-d\u0027);\t\/\/ \u00272020-12-25\u0027 WTF ?? Immutable $date = new \\DateTimeImmutable(); echo $date-\u0026gt;format(\u0027y-m-d\u0027);\t\/\/ \u00272020-09-25\u0027 $bidule = $date-\u0026gt;modify(\u0027\u002b3 month\u0027); echo $bidule-\u0026gt;format(\u0027y-m-d\u0027); \/\/ \u00272020-12-25\u0027 echo $date-\u0026gt;format(\u0027y-m-d\u0027);\t\/\/ \u00272020-09-25\u0027 Les arrays  array array : sérialisé sous forme de texte dans la base array simple_array : utilise implode et explode sur les virgules, tableau 1-dimension array json : utilise json_decode pour la serialisation  Les objets  object object : marche pas bien, il vaut mieux sérialiser puis enregistrer en text  Explications: https:\/\/www.doctrine-project.org\/projects\/doctrine-dbal\/en\/2.12\/reference\/types.html#object\nLes types custom Ex : On veut un type Money.\nCREATE DOMAIN MyMoney AS DECIMAL(18,3);\nuse Doctrine\\DBAL\\Types\\Types final class MoneyType extends Type {          getSQLDeclaration() \u0026lsquo;MyMoney\u0026rsquo;   convertToPHPValue() Money($value)   convertToDatabaseValue() $value-\u0026gt;toDecimal()   getName() \u0026lsquo;money\u0026rsquo;    Lien vers la doc. Doctrine : https:\/\/www.doctrine-project.org\/projects\/doctrine-dbal\/en\/2.12\/reference\/types.html#custom-mapping-types\n</p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/doctrine-type\/"
            },
            
            {
              value: "Stack FAQ",
              label: "<p>Stack FAQ Listes d\u0026rsquo;erreurs rencontrées lors de nos développements, avec une solution éventuelle pour remédier au problème.\n1. Erreurs lors d\u0026rsquo;une installation Erreur configuration \u0026ldquo;snc_redis.session\u0026rdquo; The child node \u0026quot;client\u0026quot; at path \u0026quot;snc_redis.session\u0026quot; must be configured Pour éviter cette erreur, on peut commenter la configuration Redis dans config_prod.yml tel que :\n#snc_redis: # session: # locking: false Erreur \u0026ldquo;Compilation failed: invalid range\u0026rdquo; An exception has been thrown during the rendering of a template (\u0026quot;Warning: preg_match(): Compilation failed: invalid range in character class at offset 72\u0026quot;) in OroSidebarBundle::sidebar.html.twig at line 21. Probleme lié à une mauvaise version de php\nErreur write timed-out lors d\u0026rsquo;un migration load La commande a été lancé avant que tous les services soient démarrés\nErreur connexion logstash lors d\u0026rsquo;un platform update Failed connecting to tcp:\/\/logstash:5044 Vérifier que les 2 services logstash et kibana sont bien lancés.\nErreur \u0026ldquo;data type json\u0026rdquo; Undefined object: 7 ERROR: data type json has no default operator class for access method “btree” Vérifier que les patchs soient bien appliqués :\n composer run kiboko-apply-patches  Patch réglant le probleme EntityExtendBundle_UpdateExtendIndicesMigration.patch\nErreur lors d\u0026rsquo;une ré-installation Ne pas oublier de renseigner installed null dans config\/parameters.yml\nAvant\n installed: \u00272020-09-04T17:39:05\u002b02:00\u0027 Après :\n installed: null 2. Erreurs lors des modifications de Workflow Erreur workflow \u0026ldquo;doesn\u0026rsquo;t have allowed transition\u0026rdquo; Step \u0026quot;open\u0026quot; of workflow \u0026quot;b2c_flow_abandoned_shopping_cart\u0026quot; doesn\u0027t have allowed transition \u0026quot;__start__\u0026quot;. Cette erreur correspond à un probleme de workflow, possibilité de corriger avec la commande :\nbin\/console oro:workflow:definitions:load\n3. Erreurs liées aux assets Erreur \u0026ldquo;Building assets\u0026rdquo; Building assets. (...) throw err; ^ Probleme de version de node (en local mac, possibilité de switcher de version de Node avec nvm)\n4. Erreurs ElasticSearch Erreur \u0026ldquo;No alive nodes found in your cluster\u0026rdquo; No alive nodes found in your cluster Cette erreur correspond à un probleme d\u0026rsquo;ElasticSearch. Le service doit être cassé.\nErreur \u0026ldquo;index_not_found_exception\u0026rdquo; {“error”:{“root_cause”:[{“type”:“index_not_found_exception”,“reason”:“no such index\u0026quot; .... Solution apportée :\n on créé des index vides avec cette commande bin\/console oro:elasticsearch:create-standard-indexes puis on regénère les indexes bin\/console oro:website-search:reindex --website-id=3 ou n\u0026rsquo;importe quel type de commande qui fait de la reindexation (oro:search:reindex, etc.)  Si c\u0026rsquo;est les websites-search indexes qui ne marche pas, il faut lancé oro:elasticsearch:create-standard-indexes\n oro:elasticsearch:create-standard-indexes =\u0026gt; Creates new empty standard indexes with mappings. Removes current standard indexes if they exist\n Si c\u0026rsquo;est les websites-search indexes qui ne marche pas, il faut lancé oro:website-elasticsearch:create-website-indexes\n oro:website-elasticsearch:create-website-indexes =\u0026gt; Creates new empty website indexes with mappings. Removes current website indexes if they exist\n Erreur \u0026ldquo;process_cluster_event_timeout_exception\u0026rdquo; lors d\u0026rsquo;un oro:website-search:reindex {“error”:{“root_cause”:[{“type”:“process_cluster_event_timeout_exception”,“reason”:“failed to process cluster event (put-mapping) within 30s”}],“type”:“process_cluster_event_timeout_exception”,“reason”:“failed to process cluster event (put-mapping) within 30s”},“status”:503} Probleme de configuration d\u0026rsquo;ElasticSearch, actions à réaliser :\n suppression du volume du service et du container elastic configuration du service et des données \u0026ldquo;environment\u0026rdquo; dans le fichier docker-compose.yml tel que :  - http.cors.allow-origin=http:\/\/localhost:${DEJAVU_PORT},http:\/\/127.0.0.1:${DEJAVU_PORT} </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/stack-faq\/"
            },
            
            {
              value: "Créer une application frontend sur OroPlatform",
              label: "<p>OroPlatform fournit un environnement complet pour créér des applications métier dédiées à une équipe interne d\u0026rsquo;une entreprise. Il ne fournit cependant pas d\u0026rsquo;interface pubique à destination de tiers, à l\u0026rsquo;exception notable de l\u0026rsquo;interface OroCommerce Store Front.\nNous allons créer un socle d\u0026rsquo;application OroPlatform qui disposera d\u0026rsquo;un accès client. Par défaut, une application OroPlatform dispose d\u0026rsquo;une seule application déclarée, nommée default. C\u0026rsquo;est sur cette application que l\u0026rsquo;on développe des interfaces métier, nous allons chercher à créer une seconde application nommée helpdesk_portal\nArchitecture Nous allons nous appliquer à créer cette application sur OroPlatform 4.1 Community Edition et Symfony 4.4.\nNous tenterons de respecter une organisation de notre code en DDD - Domain Driven Development\nsrc\/ └ HelpDeskPortal\/ ├\tBundle\/ │ ├ DependencyInjection\/ │ │ │ Configuration.php │ │ └ KibokoHelpDeskPortalExtension.php │ ├ Resources\/ │ │ └ config\/ │ │ └ oro\/ │ └ KibokoHelpDeskPortalBundle.php ├ Domain\/ │ └ Frontend\/ └ Infrastructure\/ ├ Persistence\/ │ └ Doctrine\/ │ └ Repository\/ └ Symfony\/ ├ DependencyInjection\/ ├ Request\/ ├ Router\/ └ Session\/ Créer le projet Nous allons partir d\u0026rsquo;un projet OroPlatform CE 4.1 vierge.\ngit clone git@github.com:oroinc\/platform-application.git helpdesk-application cd helpdesk-application git checkout 4.1.2 rm -rf .git git init git add -A . git commit -m \u0026quot;Initial commit from git@github.com:oroinc\/platform-application.git atr version 4.1.2\u0026quot; composer install Routage Dans le but de simplification, nous allons activer l\u0026rsquo;auto-wiring sur notre composant de routage :\nAutowiring services: Kiboko\\HelpDeskPortal\\Infrastructure\\Symfony\\Router\\: resource: \u0026#39;..\/src\/HelpDeskPortal\/Infrastructure\/Router\u0026#39; autowire: true autoconfigure: true Ajouter un préfixe aux routes OroPlatform Pour la première étape, nous allons ajouter un préfixe admin\/ à nos routes standard OroPlatform, comme le fait OroCommerce.\nNous utiliserons le paramètre de configuration %web_backend_prefix% pour définir facilement cette valeur. Nous profiterons que OroCommerce ait déjà défini ce paramètre.\nNous alons utiliser un event listener qui va retraiter les déclarations de routes, tel que :\n\u0026lt;?php declare(strict_types=1); namespace Kiboko\\HelpDeskPortal\\Infrastructure\\Symfony\\Router\\EventListener; use Oro\\Bundle\\ApiBundle\\ApiDoc\\RestRouteOptionsResolver; use Oro\\Bundle\\DistributionBundle\\Event\\RouteCollectionEvent; use Symfony\\Component\\Routing\\Route; class RouteCollectionListener { const OPTION_FRONTEND = \u0026#39;helpdesk_portal\u0026#39;; private string $prefix; public function __construct(string $prefix) { $this-\u0026gt;prefix = trim(trim($prefix), \u0026#39;\/\u0026#39;); } public function onCollectionAutoload(RouteCollectionEvent $event): void { if (\u0026#39;\u0026#39; === $this-\u0026gt;prefix) { return; } \/** @var Route $route *\/ foreach ($event-\u0026gt;getCollection()-\u0026gt;getIterator() as $route) { if ($route-\u0026gt;hasOption(self::OPTION_FRONTEND) \u0026amp;\u0026amp; $route-\u0026gt;getOption(self::OPTION_FRONTEND)) { continue; } if (!$this-\u0026gt;hasPrefix($route-\u0026gt;getPath())) { $route-\u0026gt;setPath($this-\u0026gt;prefix . $route-\u0026gt;getPath()); } if ($route-\u0026gt;hasOption(RestRouteOptionsResolver::OVERRIDE_PATH_OPTION)) { $overridePath = $route-\u0026gt;getOption(RestRouteOptionsResolver::OVERRIDE_PATH_OPTION); if (!$this-\u0026gt;hasPrefix($overridePath)) { $route-\u0026gt;setOption( RestRouteOptionsResolver::OVERRIDE_PATH_OPTION, $this-\u0026gt;addPrefix($overridePath) ); } } } } private function hasPrefix(string $path): bool { $prefix = $this-\u0026gt;prefix . \u0026#39;\/\u0026#39;; return 0 === strpos($path, $prefix) || 0 === strpos($path, \u0026#39;\/\u0026#39; . $prefix); } private function addPrefix(string $path): string { if (0 === strpos($path, \u0026#39;\/\u0026#39;)) { return \u0026#39;\/\u0026#39; . $this-\u0026gt;prefix . $path; } return $this-\u0026gt;prefix . \u0026#39;\/\u0026#39; . $path; } } Et la déclaration de service qui lui correspond :\nservices: Kiboko\\HelpDeskPortal\\Infrastructure\\Symfony\\Router\\EventListener\\RouteCollectionListener: arguments: - \u0026#39;%web_backend_prefix%\u0026#39; tags: - { name: kernel.event_listener, event: oro_distribution.route_collection.expose, method: onCollectionAutoload, priority: 120 } - { name: kernel.event_listener, event: oro_distribution.route_collection.autoload, method: onCollectionAutoload, priority: 120 } lazy: true Extracteur de routes frontend Pour pouvoir exporter les routes javascript, nous avons besoin d\u0026rsquo;extraire les routes du portail Helpdesk.\n\u0026lt;?php namespace Kiboko\\HelpDeskPortal\\Infrastructure\\Symfony\\Router; use FOS\\JsRoutingBundle\\Extractor\\ExposedRoutesExtractor; use Symfony\\Component\\Routing\\Route; \/** * Expose routes which marked with option `helpdesk_portal: true`. *\/ class PortalExposedRoutesExtractor extends ExposedRoutesExtractor { \/** * {@inheritdoc} *\/ public function isRouteExposed(Route $route, $name) { return parent::isRouteExposed($route, $name) \u0026amp;\u0026amp; $route-\u0026gt;hasOption(\u0026#39;helpdesk_portal\u0026#39;) \u0026amp;\u0026amp; $route-\u0026gt;getOption(\u0026#39;helpdesk_portal\u0026#39;); } \/** * {@inheritdoc} *\/ public function getCachePath($locale) { $path = parent::getCachePath($locale); $fileName = basename($path); $fileName = \u0026#39;helpdesk_portal_\u0026#39;.$fileName; return dirname($path) . DIRECTORY_SEPARATOR . $fileName; } } Ainsi que les services nécessaires à l\u0026rsquo;extraction de ces routes Javascript :\nservices: Kiboko\\HelpDeskPortal\\Infrastructure\\Symfony\\Router\\PortalExposedRoutesExtractor: arguments: - \u0026#39;@router\u0026#39; - [] - \u0026#39;%kernel.cache_dir%\/oro_data\u0026#39; - \u0026#39;%kernel.bundles%\u0026#39; kiboko_help_desk_portal.js_routing_controller: class: \u0026#39;%fos_js_routing.controller.class%\u0026#39; public: true arguments: - \u0026#39;@fos_js_routing.serializer\u0026#39; - \u0026#39;@Kiboko\\HelpDeskPortal\\Infrastructure\\Symfony\\Router\\PortalExposedRoutesExtractor\u0026#39; - \u0026#39;%fos_js_routing.cache_control%\u0026#39; - \u0026#39;%kernel.debug%\u0026#39; Nous aurons également besoin d\u0026rsquo;exposer une route supplémentaire pour le service de contrôleur kiboko_help_desk_portal.js_routing_controller que nous avons créé plus haut :\nkiboko_help_desk_portal_js_routing_js: path: \u0026#34;\/media\/js\/frontend_routes.{_format}\u0026#34; defaults: { _controller: kiboko_help_desk_porta.js_routing_controller:indexAction } requirements: _format: json options: helpdesk_portal: true </p>",
              url: "http:\/\/tech.kiboko.fr\/oro\/creer-une-application-frontend-sur-oroplatform\/"
            },
            
            {
              value: "Git flow",
              label: "<p>Spécificités Kiboko pour la mise en place de git flow\nEnvironnements et branches    Environnement Branche     Production master   Staging staging   . develop    Branches Branche master  nombre : unique durée de vie : permanente responsabilité : Lead dev et DT création : démarrage du projet  Code stable, testé et validé. Ce code doit être validé en staging par le client.\n⚠️ Sera déployé sur l’environnement de production\nLes PR à destination de la branche Master sont validées par les personnes ayant la main sur les déploiements sur l’environnement de production\nBranche staging  nombre : unique durée de vie : permanente responsabilité : Lead dev et DT création : démarrage du projet  Code stable, testé et validé en environnement de dev\/test. Permet de valider le fonctionnement d’une nouvelle fonctionnalité sur une environnement identique à la production. Permet au client d’effectuer sa recette.\nLes PR à destination de la branche staging sont validées par les personnes ayant la main sur les déploiements sur l’environnement de staging après le code review validé.\n⚠️ Sera déployé sur l’environnement de staging\nBranches « feature »  nombre : au moins une par fonctionnalité à développer durée de vie : quelques jours responsabilité : Développeur création : démarrage du développement d’un ticket, par fork de la branche develop nommage : feature\/\u0026lt;numéro de ticket\u0026gt;-ex : feature\/103-news-bundle Code review : Lead dev et DT  Code en cours de développement qui implémente une fonctionnalité à embarquer dans la prochaine version de l’application.\nUne fois le développement sur cette branche terminé :\n création d’une PR depuis cette branche vers develop assignation de la responsabilité au Lead dev ou DT validation de la PR par le reviewer ou le lead-dev  Branches « hotfix »  nombre : au moins une par bug à corriger en production durée de vie : quelques heures, le temps de passer le correctif en production responsabilité : Développeur création : par fork de la branche master nommage : hotfix\/\u0026lt;numéro de ticket\u0026gt;-ex : hotfix\/103-category-import Code review : Lead dev et DT  </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/git-flow\/"
            },
            
            {
              value: "Regex",
              label: "<p>Expressions régulières Doc. php : https:\/\/www.php.net\/manual\/fr\/pcre.pattern.php\nAlternatives  (abc|def) alternative avec capture : recherche abc ou def et fournira le résultat trouvé (?:abc|def) alternative sans capture : recherche abc ou def, mais ne fournira pas le résultat trouvé (?:(Lun|Mar)di) alternative avec capture interne : recherche Lun ou Mar et fournira le résultat trouvé respectivement dans les positions 1 et 2 (?|(Lun|Mar)di) alternative avec capture interne : recherche Lun ou Mar et fournira toujours le résultat trouvé dans la position 1 (\u0026lt;(?:span|div)\u0026gt;Lorem Ipsum\u0026lt;\/\\\\1\u0026gt;) alternative sans capture et référence arrière  Classes de caractères Plages de caractères  . recherche tout caractère \\d recherche un des caractères entre 0 et 9 \\. recherche le caractère . [2-6] recherche un des caractères entre 2 et 6 [a-z] recherche un des caractères entre a et z [A-Z] recherche un des caractères entre A et Z [a-zA-Z] recherche un des caractères entre a et z et entre A et Z [a-zA-Z0-9] recherche un des caractères entre a et z, entre A et Z et entre 0 et 9  Répétitions  [a-z0-9-]\u002b recherche les caractères 1 fois ou plus [a-z0-9-]* recherche des caractères 0 fois ou plus [a-z0-9-]? crecherche des caractères 0 fois ou 1 fois  Recherche inversée  [^,]* recherche tout caractère différent de , [^a-z]* recherche tout caractère différent de la plage entre a et z  Ancres  ^\/catalog\/ (importance du ^) recherche toute chaine qui commence par \/catalog\/ \\\\.html$ (importance du $) recherche toute chaine qui termine par .html ^(?:\/.*|)(\/[a-z0-9-]\u002b)\\.html$ recherche toute chaine qui termine par .html et ne capture que la dernière partie, ex :  \/lorem-ipsum.html deviendra \/lorem-ipsum \/lorem-ipsum\/dolor-sit-amet.html deviendra \/dolor-sit-amet    </p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/regex\/"
            },
            
            {
              value: "Commandes utiles",
              label: "<p>Generic Install\ncomposer install --prefer-dist --no-dev bin\/console oro:install --timeout=0 Start message queue consume\nbin\/console oro:message-queue:consume with less or more informations\nbin\/console oro:message-queue:consume -v bin\/console oro:message-queue:consume -vv bin\/console oro:message-queue:consume -vvv Remove cache\nrm -rf var\/cache\/* Indexation Search\nbin\/console oro:search:index bin\/console oro:search:reindex Website\nbin\/console oro:website-search:reindex bin\/console oro:website-search:reindex --website-id=2 Update entities bin\/console oro:entity-extend:cache:check Makes sure that extended entity configs are ready to be processed by other commands. This is an internal command. Please do not run it manually. bin\/console oro:entity-extend:cache:clear Clears extended entity cache. bin\/console oro:entity-extend:cache:warmup Warms up extended entity cache. bin\/console oro:entity-extend:migration:update-config Updates extended entities configuration during a database structure migration process. This is an internal command. Please do not run it manually. bin\/console oro:entity-extend:update-config Prepare entity config bin\/console oro:entity-extend:update-schema Synchronize extended and custom entities metadata with a database schema Assets Install assets\n3.0 (with assetic)\nbin\/console oro:asset:install \u0026amp;\u0026amp; bin\/console assetic:dump bin\/console oro:assets:install -e dev \u0026amp;\u0026amp; bin\/console assetic:dump -e dev 3.1 (with webpack)\nbin\/console asset:install \u0026amp;\u0026amp; bin\/console oro:asset:build bin\/console asset:install --env=dev \u0026amp;\u0026amp; bin\/console oro:asset:build --env=dev with symlink (without new file creation)\nbin\/console oro:asset:install --symlink Migrations Schema migrations\nbin\/console oro:migration:load Data migrations\nbin\/console oro:migration:data:load Data migrations dump\nbin\/console oro:migration:dump more : https:\/\/github.com\/oroinc\/platform\/tree\/master\/src\/Oro\/Bundle\/MigrationBundle\nUsers Password changing\nbin\/console oro:user:update nomUser --user-password=root Create a limited access token over time\nbin\/console oro:user:impersonate user ElasticSearch En cas d\u0026rsquo;erreur d\u0026rsquo;indexation :\nbin\/console oro:website-elasticsearch:create-website-indexes Others Translations\nbin\/console oro:translation:load bin\/console oro:translation:dump bin\/console oro:translation:dump \u0026amp;\u0026amp; bin\/console oro:localization:dump Load with parameters :\nbin\/console oro:translation:load --languages=en --languages=fr --rebuild-cache Détails : https:\/\/github.com\/oroinc\/platform\/blob\/master\/src\/Oro\/Bundle\/TranslationBundle\/Resources\/doc\/reference\/commands.md\nGenerate JS routing (Api\/Components)\nbin\/console fos:js-routing:dump --target web\/js\/routes.js Worflows \u0026amp; Processes\nbin\/console oro:workflow:definitions:load bin\/console oro:process:configuration:load And more If you need Bruce\u0026rsquo;s power : https:\/\/github.com\/kiboko-labs\/KibokoArmageddonBundle\n</p>",
              url: "http:\/\/tech.kiboko.fr\/oro\/commandes-utiles\/"
            },
            
            {
              value: "Code review",
              label: "<p>1. Cycle de vie des PRs  Pour la création des PRs, se reporter à la procédure décrite dans les usages Github Pas plus de 2 PRs ouvertes par personne : tant que j\u0026rsquo;ai encore une PR non mergée, je n\u0026rsquo;entame pas de nouvelle tâche. Tout le monde relit les PRs de tout le monde Afin de fluidifier les développements, il est important de relire les PRs plusieurs fois par jour (ex : le matin en arrivant, puis après la pause déjeuner. Possibilité de relire à 2 si besoin) Tout le monde peut merger les PRs en respectant les règles de validité ci-dessous  2. Règles de validité d\u0026rsquo;une PR Prérequis  Chaque branche doit contenir un numéro de ticket : feature\/XXX-new-feature Chaque commentaire de commit doit contenir un numéro de ticket : #XXX : Add new feature Les tests unitaires doivent passer La PR doit avoir le libellé \u0026ldquo;GTM\u0026rdquo; La PR doit avoir une taille raisonnable Les commits doivent être bien découpés (pas de \u0026ldquo;fix, re-re-fix, wip\u0026rdquo;)  Règles de merge Je merge une PR si elle respecte les critères suivants :\n Respect des prérequis décrits ci-dessus Déjà 2 autres personnes ont approuvé la PR dont un dev expérimenté Toutes les discussions sont marquées comme résolues ⚠️ Elle pointe sur la branche develop ⚠️ Je vérifie que le milestone est le bon pour faciliter la rédaction des notes de version  Approbation et correction En tant que relecteur  Lorsque j\u0026rsquo;ai une question ou un retour à faire sur une PR, je mets un commentaire sur la ligne concernée (en restant courtois dans mes insultes) Lorsque je n\u0026rsquo;ai plus de retours à faire, j\u0026rsquo;approuve la PR. Si elle respecte les règles de validité, je la merge sur develop.  En tant que développeur  Lorsque je corrige ma PR, je réponds au commentaire (en restant courtois dans mes insultes) et je marque la discussion comme résolue  </p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/code-review\/"
            },
            
            {
              value: "Commandes Debug",
              label: "<p>Commandes Symfony Articles officiels présentants certaines fonctionnalités :\n https:\/\/symfony.com\/blog\/new-in-symfony-3-4-debug-autowiring-command https:\/\/symfony.com\/blog\/new-in-symfony-3-4-debug-form-command  Pour avoir la liste complete : bin\/console list debug\nDebug Router Doc officiel : https:\/\/symfony.com\/doc\/3.4\/routing\/debug.html\nPour avoir l\u0026rsquo;ensemble des routes avec leur nom et les URLs qui correspondent\nbin\/console debug:router\nExemple pour rechercher une route \u0026ldquo;produit\u0026rdquo; dans des controllers :\nbin\/console debug:router --show-controllers | grep \/product\nDebug Container Doc officiel : https:\/\/symfony.com\/doc\/3.4\/service_container\/debug.html\nPour avoir l\u0026rsquo;ensemble des services publiques\nbin\/console debug:container\n Pour rechercher un service par son nom : bin\/console debug:container validator Pour rechercher un service par tag : bin\/console debug:container --tag=form.type Pour rechercher un service par parametre : bin\/console debug:container --parameter=kernel.debug  Debug Config Doc officiel : https:\/\/symfony.com\/doc\/3.4\/reference\/configuration\/debug.html\nPour avoir l\u0026rsquo;ensemble des configuration\nbin\/console debug:config\n Pour rechercher pour un bundle : bin\/console debug:config AppBundle  Debug Twig Pour avoir l\u0026rsquo;ensemble des fonctions des filtres, des tests et des globales disponibles ainsi que les chemins chargés par l\u0026rsquo;application\nbin\/console debug:twig\nDebug Swiftmailer Doc officiel : https:\/\/symfony.com\/doc\/3.4\/reference\/configuration\/swiftmailer.html\nPour avoir les mailers disponibles\nbin\/console debug:swiftmailer\nDebug Autowiring Doc officiel : https:\/\/symfony.com\/doc\/3.4\/service_container\/debug.html\nPour avoir l\u0026rsquo;ensemble des services déclarés en auto-wiring :\nbin\/console debug:autowiring\nDebug Forms Pour avoir l\u0026rsquo;ensemble des formulaires (Type, Extension, Type Guessers) disponibles :\nbin\/console debug:form\nDebug Translations Pour avoir l\u0026rsquo;ensemble des traductions par locale ou bundle :\nbin\/console debug:translation\nDebug routes JS bin\/console fos:js-routing:debug\nCommandes Oro Entity config Oro Permet de récupérer la configuration d\u0026rsquo;une entité :\nbin\/console oro:entity-config:debug AppBundle\\\\Entity\\\\Norm\nPermet de récupérer la configuration d\u0026rsquo;un champ d\u0026rsquo;une entité :\nbin\/console oro:entity-config:debug AppBundle\\\\Entity\\\\Norm code\nLayout à compléter\nbin\/console oro:debug:layout\nWorkflow à compléter\nbin\/console oro:debug:workflow:definitions\n</p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/commandes-debug\/"
            },
            
            {
              value: "Collections Doctrine",
              label: "<p> Documentation Github  La collection sert à adresser le besoin de fournir des listes d\u0026rsquo;objets. Doctrine fournit une implémentation utilisée dans son ORM et ses ODM.\nLa collection permet de gérer une liste d\u0026rsquo;objets du même type, pour :\n filtrer trier appliquer un traitement (map) calculer un résultat d\u0026rsquo;après le contenu de la liste (reduce)  L\u0026rsquo;interface Collection Il s\u0026rsquo;agit du contrat \u0026ldquo;Collection\u0026rdquo; de Doctrine, toute collection devra implémenter cette interface.\nCette interface implémente elle-même les contrats suivants :\n \\Countable : la collection pourra être utilisée avec la fonction count(), ce qui permettra de connaitre le nombre d\u0026rsquo;éléments contenus par la collection. \\IteratorAggregate : la collection pourra être parcourue dans une structure foreach \\ArrayAccess : la collection pourra être utilisée avec les opérateurs [], de la même manière qu\u0026rsquo;on le fait avec un tableau  Les méthodes map La méthode map( callable $callback ) va appliquer la fonction de rappel passée en argument sur chaque élément qu\u0026rsquo;elle contient et retournera une copie de la collection. Dans cette copie chaque élément aura été remplacé avec le résultat de cette fonction.\n\u0026lt;?php $collection = new ArrayCollection([\u0026#39;SKU001\u0026#39;, \u0026#39;SKU002\u0026#39;, \u0026#39;SKU003\u0026#39;]); $mappedCollection = $collection-\u0026gt;map(function(string $value): Product { return new Product($value); }); \/\/ Retournera : [object (Product) { $sku = \u0026#39;SKU001\u0026#39; }, object (Product) { $sku = \u0026#39;SKU002\u0026#39; }, object (Product) { $sku = \u0026#39;SKU003\u0026#39; }] filter La méthode filter( callable $callback ) va appliquer la fonction de rappel passée en argument sur chaque élément qu\u0026rsquo;elle contient et retournera une copie de la collection. Dans cette copie, ne restera que les éléments pour lesquels la fonction de rappel a renvoyé true\n\u0026lt;?php $collection = new ArrayCollection([new Product(\u0026#39;SKU001\u0026#39;), new Product(\u0026#39;SKU002\u0026#39;), new Product(\u0026#39;SKU003\u0026#39;)]); $mappedCollection = $collection-\u0026gt;filter(function(Product $value): bool { return in_array($value-\u0026gt;sku, [\u0026#39;SKU001\u0026#39;, \u0026#39;SKU003\u0026#39;, \u0026#39;SKU005\u0026#39;]); }); \/\/ Retournera : [object (Product) { $sku = \u0026#39;SKU001\u0026#39; }, object (Product) { $sku = \u0026#39;SKU003\u0026#39; }] slice La méthode slice( int $start, null|int $length ) va retourner une nouvelle copie de la collection contenant uniquement les éléments commençant à la position $start, avec au maximum $length éléments à partir de ce point si ce paramètre est fourni.\n\u0026lt;?php $collection = new ArrayCollection([new Product(\u0026#39;SKU001\u0026#39;), new Product(\u0026#39;SKU002\u0026#39;), new Product(\u0026#39;SKU003\u0026#39;), new Product(\u0026#39;SKU004\u0026#39;), new Product(\u0026#39;SKU005\u0026#39;)]); $mappedCollection = $collection-\u0026gt;slice(2, 3); \/\/ Retournera : [object (Product) { $sku = \u0026#39;SKU002\u0026#39; }, object (Product) { $sku = \u0026#39;SKU003\u0026#39; }, object (Product) { $sku = \u0026#39;SKU004\u0026#39; }] </p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/collections-doctrine\/"
            },
            
            {
              value: "Principes SOLID",
              label: "<p> Single responsibility principle Open\/closed principle Liskov substitution principle Interface segregation principle Dependency inversion principle  Single responsibility principle \u0026lt;?php class Product { \/\/ ...  public function getURL(ObjectManager $om): URL { $url = new URL(); $url-\u0026gt;setProduct($this); $url-\u0026gt;setPath(...); $om-\u0026gt;persist($url); $om-\u0026gt;flush(); } \/\/ ... } Open\/closed principle \u0026lt;?php final class Foo { \/\/ ...  public function lorem(ObjectManager $om, ?string $name = null): URL { } \/\/ ... } Liskov substitution principle \u0026lt;?php class Foo { public function lorem() { return 42; } } final class Bar extends Foo { private Registry $doctrine; private Repository $repository; public function lorem(string $path) { $this-\u0026gt;repository-\u0026gt;load(72) return new URL($path); } } \u0026lt;?php class Foo { public function lorem() { return 42; } } final class Bar extends Foo { public function lorem() { return 64; } public function ipsum(string $path) { return new URL($path); } } Interface segregation principle \u0026lt;?php interface LoremInterface extends \\Countable, \\Traversable {} class Lorem implements LoremInterface, \\Stringable, \\IteratorAggregate {} class Ipsum implements LoremInterface, \\Stringable, \\Iterator {}  Traversable Iterator IteratorAggregate Countable  Dependency inversion principle \u0026lt;?php final class Incorrect { public function lorem(EntityManager $em) { $em-\u0026gt;persist(...); $em-\u0026gt;flush(); } public function ipsum(ArrayCollection $list) { return count($list) \u0026gt; 10; } } \u0026lt;?php final class Correct { public function lorem(ObjectManager $om) { $om-\u0026gt;persist(...); $om-\u0026gt;flush(); } public function ipsum(\\Countable $list) { return count($list) \u0026gt; 10; } } </p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/principes-solid\/"
            },
            
            {
              value: "Utilisation des commandes Kloud",
              label: "<p>https:\/\/github.com\/kiboko-labs\/docker-images\nCommandes de gestion des images Docker  kloud images:test  Pour vérifier que les images soient conformes aux exigences (vérifie les pré-requis)\n kloud images:pull  Pour mettre à jour les images docker\n kloud images:tree  Pour afficher l\u0026rsquo;arbre de dépendances des images Docker\nCommandes de manipulation des stacks Docker  Initialize the Docker stack ion a project without Docker Stack\n  kloud stack:init  Identifie le meilleur choix de stack en posant jusqu\u0026rsquo;à une dizaine de questions interactivement. Initialise cette stack d\u0026rsquo;après les réponses et crée un fichier .kloud.yaml à la racine du projet pour les prochaines utilisations de la commande.\n kloud stack:upgrade  Met à jour la stack Docker d\u0026rsquo;après les contraintes listées dans le fichier .kloud.yaml\nUtilisation en local Utilisation à travers Docker (préférable sous Mac) Créer un fichier \/usr\/local\/bin\/kloud, avec le contenu suivant :\n#!\/usr\/bin\/env sh docker run --rm -ti -v \u0027\/var\/run\/docker.sock:\/var\/run\/docker.sock\u0027 -v $PWD:\/app kiboko\/kloud $@ Puis rendre le fichier exécutable avec chmod \u002bx \/usr\/local\/bin\/kloud\nUtilisation du fichier Phar (préférable sous Linux) Télécharger la dernière version publiée de l\u0026rsquo;utilitaire au format Phar : https:\/\/github.com\/kiboko-labs\/docker-images\/releases\n</p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/utilisation-des-commandes-kloud\/"
            },
            
            {
              value: "Importer un dump SQL avec Docker",
              label: "<p>Scénario : Nous avons un dump que nous voulons importer sur une base vierge pour avoir une appli qui tourne avec de la donnée.\nOn peut copier un fichier du local au container Docker dans le dossier \/tmp\/ :\ndocker cp dump.sql mycontainer:\/tmp\/dump.sql L\u0026rsquo;inverse est possible aussi (copier du container Docker au host) :\ndocker cp mycontainer:\/tmp\/dump.sql \/chemin\/dump.sql On se connecte au container SQL de docker :\ndocker exec -ti le-container_mysql bash On lance la commande avec l\u0026rsquo;option -v ( pour voir le dump avec du \u0026ldquo;verbose\u0026rdquo; ) depuis le container SQL :\nmysql :\nmysql -v —batch -h{host} -u{user} -p nom-de-la-base-de-donnée \u0026lt; \/tmp\/bdd.sql postgresql :\npsql -U {user} -d {database} -f tmp\/dump.sql Short one :)\nBackup docker exec CONTAINER \/usr\/bin\/mysqldump -u root --password=root DATABASE \u0026gt; backup.sql Restore cat backup.sql | docker exec -i CONTAINER \/usr\/bin\/mysql -u root --password=root DATABASE </p>",
              url: "http:\/\/tech.kiboko.fr\/docker\/importer-un-dump-sql-avec-docker\/"
            },
            
            {
              value: "Utilisation Tmetric",
              label: "<p>Support officiel : https:\/\/tmetric.com\/support\/\n1. Outils   web app : https:\/\/app.tmetric.com\/\n  extension navigateur (indispensable)\n  Google Chrome : https:\/\/chrome.google.com\/webstore\/detail\/tmetric-%E2%80%93-time-tracker-pr\/ffijoclmniipjbhecddgkfpdafpbdnen\nMozilla Firefox : https:\/\/addons.mozilla.org\/fr\/firefox\/addon\/tmetric-extension\/\n=\u0026gt; permet d\u0026rsquo;ajouter un bouton \u0026ldquo;start timer\u0026rdquo; sur le ticket (Jira\/Github)\n desktop app : https:\/\/tmetric.com\/download  2. Saisie de temps 2.1. Depuis un ticket Dès que lon commence une tache, on déclenche l\u0026rsquo;enregistrement du temps via le bouton \u0026ldquo;Start timer\u0026rdquo; présent sur le ticket (ou la PR), une modal s\u0026rsquo;ouvre :\n task : correspond au nom du ticket (avec son numéro) notes : surcharge le nom du ticket si modifié project : :warning: bien vérifier que le projet dans la liste déourlante est bien le bon :warning: tags : non utilisé dans Tmetric, il est préférable de les retirer à ce jour  (changement à prévoir lors de l\u0026rsquo;utilisation de la version )\n2.2. Tache interne Si la tache effectuée n\u0026rsquo;a pas de ticket, c\u0026rsquo;est une tache interne (sinon on créé le ticket manquant sur le projet)\nOn peut donc ajouter un \u0026ldquo;Time entry\u0026rdquo; depuis l\u0026rsquo;application web https:\/\/app.tmetric.com\/ ou desktop.\nDans la description, utiliser l\u0026rsquo;auto-complete si la mission existe déjà et ajouter dans Project \u0026ldquo;Kiboko interne\u0026rdquo;.\nSinon on peut renseigner l\u0026rsquo;information.\n3. Autres vues 3.1. Vue \u0026ldquo;My time\u0026rdquo; =\u0026gt; https:\/\/app.tmetric.com\/\nSur cette vue, on peut suivre et vérifier sa saisie de temps et la modifier simplement si il y a des erreurs.\n3.2. Vue \u0026ldquo;Projects\u0026rdquo; Liste les différents projets disponibles, si il en manque merci de prévenir Xavier (admin) ou Dimitri (owner).\n3.3. Vue \u0026ldquo;Reports\u0026rdquo; Permet d\u0026rsquo;analyser le temps saisie par projet, tache ou équipe. Cette fonctionnalité permet d\u0026rsquo;exporter les données de l\u0026rsquo;équipe au format .csv afin de créer les CRA par client.\n</p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/utilisation-tmetric\/"
            },
            
            {
              value: "Migrations Oro",
              label: "<p>Il y a 2 types de migrations dans Oro :\n Migrations Schema Migrations Data  Doc. Oro : https:\/\/github.com\/oroinc\/platform\/tree\/master\/src\/Oro\/Bundle\/MigrationBundle\nNous vous conseillons de suivre le cours \u0026ldquo;Entities and their data\u0026rdquo; d\u0026rsquo;OroInc qui vous apprendra en détails les méthodes et bonnes pratiques pour faire eds migrations dans OroPlatform : https:\/\/oroinc.com\/oro-fundamentals-online-course\/\n Extrait :  1. Migrations Schema Modification de schéma Doctrine =\u0026gt; DBAL\n Pas d\u0026rsquo;utilisation d\u0026rsquo;entité\/ORM dans le schéma  1.1. implémentation de l\u0026rsquo;interface Installation utilise des numéros de versions (=\u0026gt; getVersion())\n\/!\\ regroupement de l\u0026rsquo;ensemble des migrations pour créer le schéma\n=\u0026gt; cf Schéma de Yevhen\n1.2. implémentation de l\u0026rsquo;interface Migration \/!\\ quand on ajoute une Migration, il faut systématiquement :\n ajouter la migration dans l\u0026rsquo;installation en adaptant le schéma désiré changer le numéro de version  1.3. Cas spécifiques : champs non null utilisation des \u0026ldquo;OrderedMigration\u0026rdquo; =\u0026gt; getOrder():int\nEx : ajout champ UNIQUE \u002b NOT NULL\n migration A avec up() methode alterTable() avec ajout de la colonne déclarée en NULL =\u0026gt; ajout addPostQuery() migration B avec up() methode alterTable() avec ajout de la colonne NOTNULL\n 1.4. Cas spécifiques : modification de colonne existante utilisation de requêtes .SQL avec la méthode addPostQuery()\n1.5. Cas spécifiques : Oro options Utilisation de \u0026ldquo;Oro_Options\u0026rdquo;\n1.6. Cas spécifiques : OroConfigField OroConfigField uniquement pour les entités crées par ce bundle\n1.7. Cas spécifiques : entity extend Implements : ExtendExtensionInterface\n1.8. Cas spécifiques : dépendance des migrations utilisation des \u0026ldquo;DependentMigration\u0026rdquo;\n2. Migrations Data Migration pour créer de la donnée.\nExécuter après les migrations de schéma =\u0026gt; ORM\nUsage : initialiser une environnement avec des données\n\/!\\ Si Schema est mis a jour, il faut impacter les migrations de data\n3. Nomenclature des migrations 3.1. Installer Format : {nom_du_bundle}Installer\nex : KibokoBarcodeBundleInstaller\n3.2. Migration Le nom de la migration doit correspondre au fonctionnel de la migration. Si le domaine est différent, on créé des fichiers différents par domaine.\nex : AddBudgetMigration ou FixProductsNorms\n4. Tests pour vérifier la migration  bin\/console oro:platform:update --force bin\/console oro:migration:load (si fixture en plus de main) bin\/console oro:entity-extend:cache:clear =\u0026gt; si erreur, PR refusée  (prochainement ajouté à la CI)\n</p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/migrations-oro\/"
            },
            
            {
              value: "Usage Github",
              label: "<p>1. Vue Kanban Dans cette vue Kanban d\u0026rsquo;un projet github, il y a :\n des tickets des PR des notes  2. Tickets 2.1 Création\nLors de la création d\u0026rsquo;un ticket :\n Choisir le projet correspondant Choisir le milestone Ajouter les labels\/libellés  2.2 Sous-tâches\nPenser à ajouter des sous-taches dans le ticket tel que\n- [ ] Sous-tache\n(barre d\u0026rsquo;avancement sur le ticket)\nSi la sous tâche est importante possiblité de créer un nouveau ticket et de faire référence dans le ticket parent tel que :\n- [ ] Sous-tache #123\n3.3 Commentaires\nUsage du développeur :\n remonter toutes les informations dans le tickets : bug, solution à un bug\u0026hellip; identifier les utilisateurs github avec @user  3. Pull Request (PR) Lors d\u0026rsquo;une nouvelle tache, on créé une nouvelle branche git Dès le 1er commit push, on créé une nouvelle PR associé au projet et on ajoute le libellé WIP\nDès que la tache côté développeur est finie, on peut retirer le libellé WIP et renseigner un reviewer.\nLes taches du release manager :\n échanger dans la PR avec le développeur fusionner les PR tester develop\/staging\/master (vérifier que les fusions de branches fonctionnent normalement) livrer sur l\u0026rsquo;environnement correspondant en utilisant une release (version Github)  4. Releases Création via l\u0026rsquo;UI de github (tag .git \u002b commentaire)\nConvention de nommage des tags : vyyyy.mm.x\n Exemple :\nv2020.02.1\nsi c\u0026rsquo;est la 1ère livraison du mois\n Pre-release\nPour usage sur la branch develop\nConvention de nommage des pre-release : vyyyy.mm.xRCx\n Exemple :\nv2020.02.1RC1\nsi c\u0026rsquo;est la 1ère livraison du mois\n </p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/usage-github\/"
            },
            
            {
              value: "Kibokast",
              label: "<p></p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/"
            },
            
            {
              value: "Oro",
              label: "<p></p>",
              url: "http:\/\/tech.kiboko.fr\/oro\/"
            },
            
            {
              value: "Docker",
              label: "<p></p>",
              url: "http:\/\/tech.kiboko.fr\/docker\/"
            },
            
            {
              value: "Autre",
              label: "<p></p>",
              url: "http:\/\/tech.kiboko.fr\/autre\/"
            },
            
            {
              value: "Utilisation stack Docker Kiboko",
              label: "<p>1. Initialisation d’un projet sur dev0 avec cette stack 1.1. Initialisation du projet  cloner le projet application en local git clone git@github.com:kiboko-labs\/{nom-du-projet}.git connexion ssh sur dev0   ssh kiboko@dev0.kiboko.io\n  se rendre dans le répertoire www\/   cd www\/\n  cloner le projet dans un répertoire nominatif tel que :   git clone git@github.com:kiboko-labs\/{nom-du-projet}.git {nom-du-projet}-{NOM-DU-DEV}\n  se rendre dans le répertoire créé   cd {nom-du-projet}-{NOM-DU-DEV}\n  créer ma configuration phpstorm pour le déploiement sur dev0 (remote host)  dans l\u0026rsquo;onglet Mapping, dans le champs Deployment path, mettre un \/ définir le remote en sftp et par défaut     si vous aviez déjà au moins 1 remote paramétré et par defaut, il faut forcer le remote dev0 par defaut car c\u0026rsquo;est le remote par defaut qui sera automatiquement synchronisé depuis votre local DANGER : si par defaut est une prod\n   activer le déploiement automatique : Tools\/Déployment\/Automatic upload (les modif. locales à l’enregistrement seront deployées automatiquement)\n  creation du fichier .env à partir du fichier .env.dist\n avec des ports uniques (published port) ajout du token Github ajout des tokens Blackfire ou supprimer les valeurs    1.1.1. Installation vierge  make start (lance tous les services sauf WS et MQ) make install (ne pas remplir le parameters.yml à la main attendre que l’installeur le demande)  1.1.2. Installation avec un dump  make start importer son dump dans le service sql make vendor platform-update  1.2. Lancement du MQ et WS avant exploitation  make start-{mq,ws}  1.3.Exploitation  voir la consommation des messages : docker-compose logs -f amqp` accès à RabbitMQManagement ex : http:\/\/dev0.kiboko.io:10006\/ accès au mailcatcher ex : http:\/\/dev0.kiboko.io:10004\/ accès à ElasticSearch via DejaVu ex : http:\/\/dev0.kiboko.io:10009\/  Pratique : quand vous n’utilisez plus l’environnement, make stop\n1.4. Vider le cache  make cache-clear pour le cache de l\u0026rsquo;envirnonnement prod make cache-clear-dev pour le cache de l\u0026rsquo;environnement dev  1.5 Changer de branche Il est impératif de faire changer de branche sur l\u0026rsquo;environnement local et l\u0026rsquo;environnement distant. L\u0026rsquo;environnement distant réclamera d\u0026rsquo;être committé ou remis à l\u0026rsquo;état original.\n⚠️ Aucun commit ne doit être fait depuis l\u0026rsquo;environnement distant\n Pour remettre les fichiers à leur état original : git reset --hard Pour checkout la nouvelle version de travail : git checkout \u0026lt;branch\u0026gt;  2. Usages particuliers  utilisation xdebug via le service DBGp (à venir)  3. Ressources tiers  extension navigateur qui permet de switcher en mode dev, prod et debug: https:\/\/github.com\/kiboko-labs\/kiboko-symfony-env   sur Chrome :\n ajout extensions chrome:\/\/extensions\/ activer le mode développeur charger l\u0026rsquo;extension non empaquetée    images docker : https:\/\/github.com\/kiboko-labs\/docker-images  </p>",
              url: "http:\/\/tech.kiboko.fr\/kibokast\/utilisation-stack-docker-kiboko\/"
            },
            
            {
              value: "",
              label: "<p>Kubernetes Developer Environment  Get the kubeconfig.yml file and use the Use the --kubeconfig=kubeconfig.yml option to all your kubectl commands  Get cluster info $ kubectl --kubeconfig=kubeconfig.yml cluster-info Kubernetes master is running at https:\/\/wzb5w7.c1.gra7.k8s.ovh.net CoreDNS is running at https:\/\/wzb5w7.c1.gra7.k8s.ovh.net\/api\/v1\/namespaces\/kube-system\/services\/kube-dns:dns\/proxy Metrics-server is running at https:\/\/wzb5w7.c1.gra7.k8s.ovh.net\/api\/v1\/namespaces\/kube-system\/services\/https:metrics-server:\/proxy To further debug and diagnose cluster problems, use \u0027kubectl cluster-info dump\u0027. Install Kubernetes Dashboard FR: https:\/\/kubernetes.io\/fr\/docs\/tasks\/access-application-cluster\/web-ui-dashboard\/ EN: https:\/\/kubernetes.io\/docs\/tasks\/access-application-cluster\/web-ui-dashboard\/\n$ kubectl --kubeconfig=kubeconfig.yml apply -f https:\/\/raw.githubusercontent.com\/kubernetes\/dashboard\/master\/aio\/deploy\/recommended.yaml namespace\/kubernetes-dashboard created serviceaccount\/kubernetes-dashboard created service\/kubernetes-dashboard created secret\/kubernetes-dashboard-certs created secret\/kubernetes-dashboard-csrf created secret\/kubernetes-dashboard-key-holder created configmap\/kubernetes-dashboard-settings created role.rbac.authorization.k8s.io\/kubernetes-dashboard created clusterrole.rbac.authorization.k8s.io\/kubernetes-dashboard created rolebinding.rbac.authorization.k8s.io\/kubernetes-dashboard created clusterrolebinding.rbac.authorization.k8s.io\/kubernetes-dashboard created deployment.apps\/kubernetes-dashboard created service\/dashboard-metrics-scraper created deployment.apps\/dashboard-metrics-scraper created Kubectl will make Dashboard available at http:\/\/localhost:8001\/api\/v1\/namespaces\/kubernetes-dashboard\/services\/https:kubernetes-dashboard:\/proxy\/.\nYou then need to create your users if it wasn\u0026rsquo;t already done. Create a sample User: https:\/\/github.com\/kubernetes\/dashboard\/blob\/master\/docs\/user\/access-control\/creating-sample-user.md\nCreating Users for the Kubernetes Dashboard Crating a service account cat \u0026lt;\u0026lt;EOF | kubectl --kubeconfig=kubeconfig.yml apply -f - apiVersion: v1 kind: ServiceAccount metadata: name: gplanchat namespace: kubernetes-dashboard EOF Creating a ClusterRoleBinding cat \u0026lt;\u0026lt;EOF | kubectl --kubeconfig=kubeconfig.yml apply -f - apiVersion: rbac.authorization.k8s.io\/v1 kind: ClusterRoleBinding metadata: name: gplanchat roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-admin subjects: - kind: ServiceAccount name: gplanchat namespace: kubernetes-dashboard EOF Getting a bearer Token $ kubectl --kubeconfig=kubeconfig.yml -n kubernetes-dashboard describe secret $(kubectl --kubeconfig=kubeconfig.yml -n kubernetes-dashboard get secret | grep gplanchat | awk \u0027{print $1}\u0027) Name: gplanchat-token-w8bl4 Namespace: kubernetes-dashboard Labels: \u0026lt;none\u0026gt; Annotations: kubernetes.io\/service-account.name: gplanchat kubernetes.io\/service-account.uid: 23111bc9-376b-4b87-9ecb-9d4743f14c9e Type: kubernetes.io\/service-account-token Data ==== token: eyJh[...]pgE ca.crt: 1801 bytes namespace: 20 bytes Now copy the token and paste it into Enter token field on the login screen.\nClick Sign in button and that\u0026rsquo;s it. You are now logged in as an admin.\n</p>",
              url: "http:\/\/tech.kiboko.fr\/kubernetes\/"
            },
            
            {
              value: "Categories",
              label: "<p></p>",
              url: "http:\/\/tech.kiboko.fr\/categories\/"
            },
            
            {
              value: "Mentions légales",
              label: "<p>Editeur du site Kiboko\n16 avenue Clément Charbonnier\n43000 Le Puy-en-Velay\nFrance\nConditions d\u0026rsquo;utilisation Le site accessible par l\u0026rsquo;url suivante : tech.kiboko.fr, est exploité dans le respect de la législation française. L\u0026rsquo;utilisation de ce site est régie par les présentes conditions générales. En utilisant le site, vous reconnaissez avoir pris connaissance de ces conditions et les avoir acceptées. Celles-ci pourront êtres modifiées à tout moment et sans préavis par la société Kiboko. Kiboko ne saurait être tenu pour responsable en aucune manière d’une mauvaise utilisation du service.\nLimitation de responsabilité Les informations contenues sur ce site sont aussi précises que possibles et le site est périodiquement remis à jour, mais peut toutefois contenir des inexactitudes, des omissions ou des lacunes. Si vous constatez une lacune, erreur ou ce qui parait être un dysfonctionnement, merci de bien vouloir le signaler par email en décrivant le problème de la manière la plus précise possible (page posant problème, action déclenchante, type d’ordinateur et de navigateur utilisé\u0026hellip;).\nTout contenu téléchargé se fait aux risques et périls de l\u0026rsquo;utilisateur et sous sa seule responsabilité. En conséquence, Kiboko ne saurait être tenu responsable d\u0026rsquo;un quelconque dommage subi par l\u0026rsquo;ordinateur de l\u0026rsquo;utilisateur ou d\u0026rsquo;une quelconque perte de données consécutives au téléchargement.\nLes photos sont non contractuelles. Les liens hypertextes mis en place dans le cadre du présent site internet en direction d\u0026rsquo;autres ressources présentes sur le réseau Internet ne sauraient engager la responsabilité de Kiboko.\nLitiges Les présentes conditions sont régies par les lois françaises et toute contestation ou litiges qui pourraient naître de l\u0026rsquo;interprétation ou de l\u0026rsquo;exécution de celles-ci seront de la compétence exclusive des tribunaux dont dépend le siège social de la société Kiboko. La langue de référence, pour le règlement de contentieux éventuels, est le français.\nConfidentialité Vos données personnelles sont confidentielles et ne seront en aucun cas communiquées à des tiers hormis pour la bonne exécution de la prestation.\nPropriété intellectuelle Tout le contenu du présent site, incluant, de façon non limitative, les graphismes, images, textes, vidéos, animations, sons, logos, gifs et icônes ainsi que leur mise en forme sont la propriété exclusive de la société Kiboko à l\u0026rsquo;exception des marques, logos ou contenus appartenant à d\u0026rsquo;autres sociétés partenaires ou auteurs. Toute reproduction, distribution, modification, adaptation, retransmission ou publication, même partielle, de ces différents éléments est strictement interdite sans l\u0026rsquo;accord exprès par écrit de Kiboko. Cette représentation ou reproduction, par quelque procédé que ce soit, constitue une contrefaçon sanctionnée par les articles L.3335-2 et suivants du Code de la propriété intellectuelle. Le non-respect de cette interdiction constitue une contrefaçon pouvant engager la responsabilité civile et pénale du contrefacteur. En outre, les propriétaires des Contenus copiés pourraient intenter une action en justice à votre encontre.\nKiboko est identiquement propriétaire des \u0026ldquo;droits des producteurs de bases de données\u0026rdquo; visés au Livre III, Titre IV, du Code de la Propriété Intellectuelle (loi n° 98-536 du 1er juillet 1998) relative aux droits d\u0026rsquo;auteur et aux bases de données.\nLes utilisateurs et visiteurs du site internet peuvent mettre en place un hyperlien en direction de ce site, mais uniquement en direction de la page d’accueil, accessible à l’URL suivante : www.site-internet-qualite.fr, à condition que ce lien s’ouvre dans une nouvelle fenêtre. En particulier un lien vers une sous page (« lien profond ») est interdit, ainsi que l’ouverture du présent site au sein d’un cadre (« framing »), sauf l\u0026rsquo;autorisation expresse et préalable de .\nPour toute demande d\u0026rsquo;autorisation ou d\u0026rsquo;information, veuillez nous contacter par email : hello@kiboko.fr. Des conditions spécifiques sont prévues pour la presse.\nPar ailleurs, la mise en forme de ce site a nécessité le recours à des sources externes dont nous avons acquis les droits ou dont les droits d\u0026rsquo;utilisation sont ouverts.\nHébergeur GitHub Pages : https:\/\/pages.github.com\/\nConditions de service Ce site est proposé en langages HTML5 et CSS3, pour un meilleur confort d\u0026rsquo;utilisation et un graphisme plus agréable, nous vous recommandons de recourir à des navigateurs modernes comme Chrome \u0026amp; Firefox\n</p>",
              url: "http:\/\/tech.kiboko.fr\/legal-notice\/"
            },
            
            {
              value: "Tags",
              label: "<p></p>",
              url: "http:\/\/tech.kiboko.fr\/tags\/"
            },
            
          ];
          $("#search").autocomplete({
            source: projects
          })
          .data("ui-autocomplete")._renderItem = function (ul, item) {
            return $("<li>")
            .append("<a href=" + item.url + " + \" &quot;\" +  >" + item.value + "</a>" + item.label)
            .appendTo(ul);
          };
          });
        </script>
      </div>
    </div>
  </div>
</div>
<!-- /banner -->
    </header>
    <!-- /header -->
    
    

  <!-- topics -->
  <section class="section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 text-center">
          <h2 class="section-title"></h2>
        </div>
        <!-- topic-item -->
        
        <div class="col-lg-4 col-sm-6 mb-4">
          <a href="http://tech.kiboko.fr/kibokast/" class="px-4 py-5 bg-white shadow text-center d-block match-height">
            <i class="ti-blackboard icon text-primary d-block mb-4"></i>
            <h3 class="mb-3 mt-0">Kibokast</h3>
            <p class="mb-0">Les Kibokast sont des mini-formations tenues par un membre de Kiboko pour le reste de l&#39;équipe. Voici la liste des sujets.</p>
          </a>
        </div>
        
        <div class="col-lg-4 col-sm-6 mb-4">
          <a href="http://tech.kiboko.fr/oro/" class="px-4 py-5 bg-white shadow text-center d-block match-height">
            <i class="ti-light-bulb icon text-primary d-block mb-4"></i>
            <h3 class="mb-3 mt-0">Oro</h3>
            <p class="mb-0">La catégorie Oro regroupe l&#39;ensemble des technologies OroCommerce, OroPlatform et OroCRM.</p>
          </a>
        </div>
        
        <div class="col-lg-4 col-sm-6 mb-4">
          <a href="http://tech.kiboko.fr/docker/" class="px-4 py-5 bg-white shadow text-center d-block match-height">
            <i class="ti-server icon text-primary d-block mb-4"></i>
            <h3 class="mb-3 mt-0">Docker</h3>
            <p class="mb-0">Pour nos développements, nous utilisons Docker avec une stack spécifique. Voici quelques méthodes que nous utilisons.</p>
          </a>
        </div>
        
        <div class="col-lg-4 col-sm-6 mb-4">
          <a href="http://tech.kiboko.fr/autre/" class="px-4 py-5 bg-white shadow text-center d-block match-height">
            <i class="ti-notepad icon text-primary d-block mb-4"></i>
            <h3 class="mb-3 mt-0">Autre</h3>
            <p class="mb-0">Différentes documentations non typées.</p>
          </a>
        </div>
        
      </div>
    </div>
  </section>
  <!-- /topics -->

  
  
  <!-- call to action -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="section px-3 bg-white shadow text-center">
          <h2 class="mb-4">Vous avez une question ?</h2>
          <p class="mb-4"></p>
          
          
          <a href="http://kiboko.fr/fr/contactez-nous/" class="btn btn-primary">Contactez-nous</a>
          
          
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- /call to action -->
  
  


    <!-- footer -->
<footer class="section pb-4">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-8 text-md-left text-center">
        <!-- legal notice -->
          <a href="/legal-notice">
            <p class="mb-md-0 mb-4">Mentions légales</p>
          </a>
        <!-- /legal notice -->
      </div>
      <div class="col-md-4 text-md-right text-center">
        <ul class="list-inline list-social">
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="https://twitter.com/kibokolabs"><i class="ti-twitter-alt"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="https://github.com/kiboko-labs"><i class="ti-github"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="https://www.linkedin.com/company/kiboko-sas"><i class="ti-linkedin"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="http://kiboko.fr/fr/"><i class="ti-wordpress"></i></a></li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>
<!-- /footer -->

<!-- Main Script -->

<script src="http://tech.kiboko.fr/js/script.min.js"></script>

  </body>

</html>